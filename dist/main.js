var Li=Object.create;var Tt=Object.defineProperty;var Ci=Object.getOwnPropertyDescriptor;var $i=Object.getOwnPropertyNames;var qi=Object.getPrototypeOf,Di=Object.prototype.hasOwnProperty;var ji=e=>Tt(e,"__esModule",{value:!0});var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ki=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of $i(t))!Di.call(e,n)&&n!=="default"&&Tt(e,n,{get:()=>t[n],enumerable:!(r=Ci(t,n))||r.enumerable});return e},Y=e=>ki(ji(Tt(e!=null?Li(qi(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var rt=E(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});function Ui(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}At.toCommandValue=Ui});var vr=E(_e=>{"use strict";var Fi=_e&&_e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(_e,"__esModule",{value:!0});var Bi=Fi(require("os")),yr=rt();function gr(e,t,r){let n=new wr(e,t,r);process.stdout.write(n.toString()+Bi.EOL)}_e.issueCommand=gr;function Mi(e,t=""){gr(e,{},t)}_e.issue=Mi;var Er="::",wr=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=Er+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:t+=",",t+=`${n}=${Vi(i)}`)}}return t+=`${Er}${Gi(this.message)}`,t}};function Gi(e){return yr.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Vi(e){return yr.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var Rr=E(Ge=>{"use strict";var br=Ge&&Ge.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(Ge,"__esModule",{value:!0});var Or=br(require("fs")),Hi=br(require("os")),zi=rt();function Xi(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!Or.existsSync(r))throw new Error(`Missing file at path: ${r}`);Or.appendFileSync(r,`${zi.toCommandValue(t)}${Hi.EOL}`,{encoding:"utf8"})}Ge.issueCommand=Xi});var Ie=E(T=>{"use strict";var Wi=T&&T.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})},Sr=T&&T.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(T,"__esModule",{value:!0});var V=vr(),Tr=Rr(),Ji=rt(),_t=Sr(require("os")),Yi=Sr(require("path")),Ar;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Ar=T.ExitCode||(T.ExitCode={}));function Zi(e,t){let r=Ji.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||""){let i="_GitHubActionsFileCommandDelimeter_",s=`${e}<<${i}${_t.EOL}${r}${_t.EOL}${i}`;Tr.issueCommand("ENV",s)}else V.issueCommand("set-env",{name:e},r)}T.exportVariable=Zi;function Qi(e){V.issueCommand("add-mask",{},e)}T.setSecret=Qi;function Ki(e){process.env.GITHUB_PATH||""?Tr.issueCommand("PATH",e):V.issueCommand("add-path",{},e),process.env.PATH=`${e}${Yi.delimiter}${process.env.PATH}`}T.addPath=Ki;function es(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return r.trim()}T.getInput=es;function ts(e,t){V.issueCommand("set-output",{name:e},t)}T.setOutput=ts;function rs(e){V.issue("echo",e?"on":"off")}T.setCommandEcho=rs;function ns(e){process.exitCode=Ar.Failure,_r(e)}T.setFailed=ns;function is(){return process.env.RUNNER_DEBUG==="1"}T.isDebug=is;function ss(e){V.issueCommand("debug",{},e)}T.debug=ss;function _r(e){V.issue("error",e instanceof Error?e.toString():e)}T.error=_r;function os(e){V.issue("warning",e instanceof Error?e.toString():e)}T.warning=os;function as(e){process.stdout.write(e+_t.EOL)}T.info=as;function Ir(e){V.issue("group",e)}T.startGroup=Ir;function Nr(){V.issue("endgroup")}T.endGroup=Nr;function us(e,t){return Wi(this,void 0,void 0,function*(){Ir(e);let r;try{r=yield t()}finally{Nr()}return r})}T.group=us;function cs(e,t){V.issueCommand("save-state",{name:e},t)}T.saveState=cs;function ls(e){return process.env[`STATE_${e}`]||""}T.getState=ls});var It=E(w=>{"use strict";var nt=w&&w.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})},U;Object.defineProperty(w,"__esModule",{value:!0});var fs=require("assert"),hs=require("fs"),Ne=require("path");U=hs.promises,w.chmod=U.chmod,w.copyFile=U.copyFile,w.lstat=U.lstat,w.mkdir=U.mkdir,w.readdir=U.readdir,w.readlink=U.readlink,w.rename=U.rename,w.rmdir=U.rmdir,w.stat=U.stat,w.symlink=U.symlink,w.unlink=U.unlink;w.IS_WINDOWS=process.platform==="win32";function ds(e){return nt(this,void 0,void 0,function*(){try{yield w.stat(e)}catch(t){if(t.code==="ENOENT")return!1;throw t}return!0})}w.exists=ds;function ps(e,t=!1){return nt(this,void 0,void 0,function*(){return(t?yield w.stat(e):yield w.lstat(e)).isDirectory()})}w.isDirectory=ps;function ms(e){if(e=gs(e),!e)throw new Error('isRooted() parameter "p" cannot be empty');return w.IS_WINDOWS?e.startsWith("\\")||/^[A-Z]:/i.test(e):e.startsWith("/")}w.isRooted=ms;function xr(e,t=1e3,r=1){return nt(this,void 0,void 0,function*(){if(fs.ok(e,"a path argument must be provided"),e=Ne.resolve(e),r>=t)return w.mkdir(e);try{yield w.mkdir(e);return}catch(n){switch(n.code){case"ENOENT":{yield xr(Ne.dirname(e),t,r+1),yield w.mkdir(e);return}default:{let i;try{i=yield w.stat(e)}catch(s){throw n}if(!i.isDirectory())throw n}}}})}w.mkdirP=xr;function ys(e,t){return nt(this,void 0,void 0,function*(){let r;try{r=yield w.stat(e)}catch(i){i.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${i}`)}if(r&&r.isFile()){if(w.IS_WINDOWS){let i=Ne.extname(e).toUpperCase();if(t.some(s=>s.toUpperCase()===i))return e}else if(Pr(r))return e}let n=e;for(let i of t){e=n+i,r=void 0;try{r=yield w.stat(e)}catch(s){s.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${s}`)}if(r&&r.isFile()){if(w.IS_WINDOWS){try{let s=Ne.dirname(e),o=Ne.basename(e).toUpperCase();for(let a of yield w.readdir(s))if(o===a.toUpperCase()){e=Ne.join(s,a);break}}catch(s){console.log(`Unexpected error attempting to determine the actual case of the file '${e}': ${s}`)}return e}else if(Pr(r))return e}}return""})}w.tryGetExecutablePath=ys;function gs(e){return e=e||"",w.IS_WINDOWS?(e=e.replace(/\//g,"\\"),e.replace(/\\\\+/g,"\\")):e.replace(/\/\/+/g,"/")}function Pr(e){return(e.mode&1)>0||(e.mode&8)>0&&e.gid===process.getgid()||(e.mode&64)>0&&e.uid===process.getuid()}});var it=E(Q=>{"use strict";var ye=Q&&Q.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Q,"__esModule",{value:!0});var Es=require("child_process"),Z=require("path"),ws=require("util"),v=It(),Nt=ws.promisify(Es.exec);function vs(e,t,r={}){return ye(this,void 0,void 0,function*(){let{force:n,recursive:i}=Os(r),s=(yield v.exists(t))?yield v.stat(t):null;if(s&&s.isFile()&&!n)return;let o=s&&s.isDirectory()?Z.join(t,Z.basename(e)):t;if(!(yield v.exists(e)))throw new Error(`no such file or directory: ${e}`);if((yield v.stat(e)).isDirectory())if(i)yield $r(e,o,0,n);else throw new Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`);else{if(Z.relative(e,o)==="")throw new Error(`'${o}' and '${e}' are the same file`);yield qr(e,o,n)}})}Q.cp=vs;function bs(e,t,r={}){return ye(this,void 0,void 0,function*(){if(yield v.exists(t)){let n=!0;if((yield v.isDirectory(t))&&(t=Z.join(t,Z.basename(e)),n=yield v.exists(t)),n)if(r.force==null||r.force)yield Lr(t);else throw new Error("Destination already exists")}yield xt(Z.dirname(t)),yield v.rename(e,t)})}Q.mv=bs;function Lr(e){return ye(this,void 0,void 0,function*(){if(v.IS_WINDOWS){try{(yield v.isDirectory(e,!0))?yield Nt(`rd /s /q "${e}"`):yield Nt(`del /f /a "${e}"`)}catch(t){if(t.code!=="ENOENT")throw t}try{yield v.unlink(e)}catch(t){if(t.code!=="ENOENT")throw t}}else{let t=!1;try{t=yield v.isDirectory(e)}catch(r){if(r.code!=="ENOENT")throw r;return}t?yield Nt(`rm -rf "${e}"`):yield v.unlink(e)}})}Q.rmRF=Lr;function xt(e){return ye(this,void 0,void 0,function*(){yield v.mkdirP(e)})}Q.mkdirP=xt;function Cr(e,t){return ye(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'tool' is required");if(t&&!(yield Cr(e,!1)))throw v.IS_WINDOWS?new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);try{let r=[];if(v.IS_WINDOWS&&process.env.PATHEXT)for(let i of process.env.PATHEXT.split(Z.delimiter))i&&r.push(i);if(v.isRooted(e)){let i=yield v.tryGetExecutablePath(e,r);return i||""}if(e.includes("/")||v.IS_WINDOWS&&e.includes("\\"))return"";let n=[];if(process.env.PATH)for(let i of process.env.PATH.split(Z.delimiter))i&&n.push(i);for(let i of n){let s=yield v.tryGetExecutablePath(i+Z.sep+e,r);if(s)return s}return""}catch(r){throw new Error(`which failed with message ${r.message}`)}})}Q.which=Cr;function Os(e){let t=e.force==null?!0:e.force,r=Boolean(e.recursive);return{force:t,recursive:r}}function $r(e,t,r,n){return ye(this,void 0,void 0,function*(){if(r>=255)return;r++,yield xt(t);let i=yield v.readdir(e);for(let s of i){let o=`${e}/${s}`,a=`${t}/${s}`;(yield v.lstat(o)).isDirectory()?yield $r(o,a,r,n):yield qr(o,a,n)}yield v.chmod(t,(yield v.stat(e)).mode)})}function qr(e,t,r){return ye(this,void 0,void 0,function*(){if((yield v.lstat(e)).isSymbolicLink()){try{yield v.lstat(t),yield v.unlink(t)}catch(i){i.code==="EPERM"&&(yield v.chmod(t,"0666"),yield v.unlink(t))}let n=yield v.readlink(e);yield v.symlink(n,t,v.IS_WINDOWS?"junction":null)}else(!(yield v.exists(t))||r)&&(yield v.copyFile(e,t))})}});var jt=E((p,Fr)=>{p=Fr.exports=y;var O;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?O=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:O=function(){};p.SEMVER_SPEC_VERSION="2.0.0";var Pt=256,st=Number.MAX_SAFE_INTEGER||9007199254740991,Lt=16,b=p.re=[],h=p.src=[],f=p.tokens={},Dr=0;function g(e){f[e]=Dr++}g("NUMERICIDENTIFIER");h[f.NUMERICIDENTIFIER]="0|[1-9]\\d*";g("NUMERICIDENTIFIERLOOSE");h[f.NUMERICIDENTIFIERLOOSE]="[0-9]+";g("NONNUMERICIDENTIFIER");h[f.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";g("MAINVERSION");h[f.MAINVERSION]="("+h[f.NUMERICIDENTIFIER]+")\\.("+h[f.NUMERICIDENTIFIER]+")\\.("+h[f.NUMERICIDENTIFIER]+")";g("MAINVERSIONLOOSE");h[f.MAINVERSIONLOOSE]="("+h[f.NUMERICIDENTIFIERLOOSE]+")\\.("+h[f.NUMERICIDENTIFIERLOOSE]+")\\.("+h[f.NUMERICIDENTIFIERLOOSE]+")";g("PRERELEASEIDENTIFIER");h[f.PRERELEASEIDENTIFIER]="(?:"+h[f.NUMERICIDENTIFIER]+"|"+h[f.NONNUMERICIDENTIFIER]+")";g("PRERELEASEIDENTIFIERLOOSE");h[f.PRERELEASEIDENTIFIERLOOSE]="(?:"+h[f.NUMERICIDENTIFIERLOOSE]+"|"+h[f.NONNUMERICIDENTIFIER]+")";g("PRERELEASE");h[f.PRERELEASE]="(?:-("+h[f.PRERELEASEIDENTIFIER]+"(?:\\."+h[f.PRERELEASEIDENTIFIER]+")*))";g("PRERELEASELOOSE");h[f.PRERELEASELOOSE]="(?:-?("+h[f.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+h[f.PRERELEASEIDENTIFIERLOOSE]+")*))";g("BUILDIDENTIFIER");h[f.BUILDIDENTIFIER]="[0-9A-Za-z-]+";g("BUILD");h[f.BUILD]="(?:\\+("+h[f.BUILDIDENTIFIER]+"(?:\\."+h[f.BUILDIDENTIFIER]+")*))";g("FULL");g("FULLPLAIN");h[f.FULLPLAIN]="v?"+h[f.MAINVERSION]+h[f.PRERELEASE]+"?"+h[f.BUILD]+"?";h[f.FULL]="^"+h[f.FULLPLAIN]+"$";g("LOOSEPLAIN");h[f.LOOSEPLAIN]="[v=\\s]*"+h[f.MAINVERSIONLOOSE]+h[f.PRERELEASELOOSE]+"?"+h[f.BUILD]+"?";g("LOOSE");h[f.LOOSE]="^"+h[f.LOOSEPLAIN]+"$";g("GTLT");h[f.GTLT]="((?:<|>)?=?)";g("XRANGEIDENTIFIERLOOSE");h[f.XRANGEIDENTIFIERLOOSE]=h[f.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";g("XRANGEIDENTIFIER");h[f.XRANGEIDENTIFIER]=h[f.NUMERICIDENTIFIER]+"|x|X|\\*";g("XRANGEPLAIN");h[f.XRANGEPLAIN]="[v=\\s]*("+h[f.XRANGEIDENTIFIER]+")(?:\\.("+h[f.XRANGEIDENTIFIER]+")(?:\\.("+h[f.XRANGEIDENTIFIER]+")(?:"+h[f.PRERELEASE]+")?"+h[f.BUILD]+"?)?)?";g("XRANGEPLAINLOOSE");h[f.XRANGEPLAINLOOSE]="[v=\\s]*("+h[f.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+h[f.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+h[f.XRANGEIDENTIFIERLOOSE]+")(?:"+h[f.PRERELEASELOOSE]+")?"+h[f.BUILD]+"?)?)?";g("XRANGE");h[f.XRANGE]="^"+h[f.GTLT]+"\\s*"+h[f.XRANGEPLAIN]+"$";g("XRANGELOOSE");h[f.XRANGELOOSE]="^"+h[f.GTLT]+"\\s*"+h[f.XRANGEPLAINLOOSE]+"$";g("COERCE");h[f.COERCE]="(^|[^\\d])(\\d{1,"+Lt+"})(?:\\.(\\d{1,"+Lt+"}))?(?:\\.(\\d{1,"+Lt+"}))?(?:$|[^\\d])";g("COERCERTL");b[f.COERCERTL]=new RegExp(h[f.COERCE],"g");g("LONETILDE");h[f.LONETILDE]="(?:~>?)";g("TILDETRIM");h[f.TILDETRIM]="(\\s*)"+h[f.LONETILDE]+"\\s+";b[f.TILDETRIM]=new RegExp(h[f.TILDETRIM],"g");var Rs="$1~";g("TILDE");h[f.TILDE]="^"+h[f.LONETILDE]+h[f.XRANGEPLAIN]+"$";g("TILDELOOSE");h[f.TILDELOOSE]="^"+h[f.LONETILDE]+h[f.XRANGEPLAINLOOSE]+"$";g("LONECARET");h[f.LONECARET]="(?:\\^)";g("CARETTRIM");h[f.CARETTRIM]="(\\s*)"+h[f.LONECARET]+"\\s+";b[f.CARETTRIM]=new RegExp(h[f.CARETTRIM],"g");var Ss="$1^";g("CARET");h[f.CARET]="^"+h[f.LONECARET]+h[f.XRANGEPLAIN]+"$";g("CARETLOOSE");h[f.CARETLOOSE]="^"+h[f.LONECARET]+h[f.XRANGEPLAINLOOSE]+"$";g("COMPARATORLOOSE");h[f.COMPARATORLOOSE]="^"+h[f.GTLT]+"\\s*("+h[f.LOOSEPLAIN]+")$|^$";g("COMPARATOR");h[f.COMPARATOR]="^"+h[f.GTLT]+"\\s*("+h[f.FULLPLAIN]+")$|^$";g("COMPARATORTRIM");h[f.COMPARATORTRIM]="(\\s*)"+h[f.GTLT]+"\\s*("+h[f.LOOSEPLAIN]+"|"+h[f.XRANGEPLAIN]+")";b[f.COMPARATORTRIM]=new RegExp(h[f.COMPARATORTRIM],"g");var Ts="$1$2$3";g("HYPHENRANGE");h[f.HYPHENRANGE]="^\\s*("+h[f.XRANGEPLAIN]+")\\s+-\\s+("+h[f.XRANGEPLAIN]+")\\s*$";g("HYPHENRANGELOOSE");h[f.HYPHENRANGELOOSE]="^\\s*("+h[f.XRANGEPLAINLOOSE]+")\\s+-\\s+("+h[f.XRANGEPLAINLOOSE]+")\\s*$";g("STAR");h[f.STAR]="(<|>)?=?\\s*\\*";for(var ge=0;ge<Dr;ge++)O(ge,h[ge]),b[ge]||(b[ge]=new RegExp(h[ge]));p.parse=Ee;function Ee(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof y)return e;if(typeof e!="string"||e.length>Pt)return null;var r=t.loose?b[f.LOOSE]:b[f.FULL];if(!r.test(e))return null;try{return new y(e,t)}catch(n){return null}}p.valid=As;function As(e,t){var r=Ee(e,t);return r?r.version:null}p.clean=_s;function _s(e,t){var r=Ee(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}p.SemVer=y;function y(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof y){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>Pt)throw new TypeError("version is longer than "+Pt+" characters");if(!(this instanceof y))return new y(e,t);O("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?b[f.LOOSE]:b[f.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>st||this.major<0)throw new TypeError("Invalid major version");if(this.minor>st||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>st||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<st)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}y.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};y.prototype.toString=function(){return this.version};y.prototype.compare=function(e){return O("SemVer.compare",this.version,this.options,e),e instanceof y||(e=new y(e,this.options)),this.compareMain(e)||this.comparePre(e)};y.prototype.compareMain=function(e){return e instanceof y||(e=new y(e,this.options)),we(this.major,e.major)||we(this.minor,e.minor)||we(this.patch,e.patch)};y.prototype.comparePre=function(e){if(e instanceof y||(e=new y(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(O("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return we(r,n)}while(++t)};y.prototype.compareBuild=function(e){e instanceof y||(e=new y(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(O("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return we(r,n)}while(++t)};y.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};p.inc=Is;function Is(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new y(e,r).inc(t,n).version}catch(i){return null}}p.diff=Ns;function Ns(e,t){if(Ct(e,t))return null;var r=Ee(e),n=Ee(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return i+o;return s}p.compareIdentifiers=we;var jr=/^[0-9]+$/;function we(e,t){var r=jr.test(e),n=jr.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}p.rcompareIdentifiers=xs;function xs(e,t){return we(t,e)}p.major=Ps;function Ps(e,t){return new y(e,t).major}p.minor=Ls;function Ls(e,t){return new y(e,t).minor}p.patch=Cs;function Cs(e,t){return new y(e,t).patch}p.compare=K;function K(e,t,r){return new y(e,r).compare(new y(t,r))}p.compareLoose=$s;function $s(e,t){return K(e,t,!0)}p.compareBuild=qs;function qs(e,t,r){var n=new y(e,r),i=new y(t,r);return n.compare(i)||n.compareBuild(i)}p.rcompare=Ds;function Ds(e,t,r){return K(t,e,r)}p.sort=js;function js(e,t){return e.sort(function(r,n){return p.compareBuild(r,n,t)})}p.rsort=ks;function ks(e,t){return e.sort(function(r,n){return p.compareBuild(n,r,t)})}p.gt=Ve;function Ve(e,t,r){return K(e,t,r)>0}p.lt=ot;function ot(e,t,r){return K(e,t,r)<0}p.eq=Ct;function Ct(e,t,r){return K(e,t,r)===0}p.neq=kr;function kr(e,t,r){return K(e,t,r)!==0}p.gte=$t;function $t(e,t,r){return K(e,t,r)>=0}p.lte=qt;function qt(e,t,r){return K(e,t,r)<=0}p.cmp=at;function at(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Ct(e,r,n);case"!=":return kr(e,r,n);case">":return Ve(e,r,n);case">=":return $t(e,r,n);case"<":return ot(e,r,n);case"<=":return qt(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}p.Comparator=F;function F(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof F){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof F))return new F(e,t);O("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===xe?this.value="":this.value=this.operator+this.semver.version,O("comp",this)}var xe={};F.prototype.parse=function(e){var t=this.options.loose?b[f.COMPARATORLOOSE]:b[f.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new y(r[2],this.options.loose):this.semver=xe};F.prototype.toString=function(){return this.value};F.prototype.test=function(e){if(O("Comparator.test",e,this.options.loose),this.semver===xe||e===xe)return!0;if(typeof e=="string")try{e=new y(e,this.options)}catch(t){return!1}return at(e,this.operator,this.semver,this.options)};F.prototype.intersects=function(e,t){if(!(e instanceof F))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new _(e.value,t),ut(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new _(this.value,t),ut(e.semver,r,t));var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=at(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=at(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||u};p.Range=_;function _(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof _)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new _(e.raw,t);if(e instanceof F)return new _(e.value,t);if(!(this instanceof _))return new _(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}_.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};_.prototype.toString=function(){return this.range};_.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?b[f.HYPHENRANGELOOSE]:b[f.HYPHENRANGE];e=e.replace(r,Ws),O("hyphen replace",e),e=e.replace(b[f.COMPARATORTRIM],Ts),O("comparator trim",e,b[f.COMPARATORTRIM]),e=e.replace(b[f.TILDETRIM],Rs),e=e.replace(b[f.CARETTRIM],Ss),e=e.split(/\s+/).join(" ");var n=t?b[f.COMPARATORLOOSE]:b[f.COMPARATOR],i=e.split(" ").map(function(s){return Fs(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new F(s,this.options)},this),i};_.prototype.intersects=function(e,t){if(!(e instanceof _))throw new TypeError("a Range is required");return this.set.some(function(r){return Ur(r,t)&&e.set.some(function(n){return Ur(n,t)&&r.every(function(i){return n.every(function(s){return i.intersects(s,t)})})})})};function Ur(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(s){return i.intersects(s,t)}),i=n.pop();return r}p.toComparators=Us;function Us(e,t){return new _(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function Fs(e,t){return O("comp",e,t),e=Gs(e,t),O("caret",e),e=Bs(e,t),O("tildes",e),e=Hs(e,t),O("xrange",e),e=Xs(e,t),O("stars",e),e}function L(e){return!e||e.toLowerCase()==="x"||e==="*"}function Bs(e,t){return e.trim().split(/\s+/).map(function(r){return Ms(r,t)}).join(" ")}function Ms(e,t){var r=t.loose?b[f.TILDELOOSE]:b[f.TILDE];return e.replace(r,function(n,i,s,o,a){O("tilde",e,n,i,s,o,a);var u;return L(i)?u="":L(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":L(o)?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(O("replaceTilde pr",a),u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",O("tilde return",u),u})}function Gs(e,t){return e.trim().split(/\s+/).map(function(r){return Vs(r,t)}).join(" ")}function Vs(e,t){O("caret",e,t);var r=t.loose?b[f.CARETLOOSE]:b[f.CARET];return e.replace(r,function(n,i,s,o,a){O("caret",e,n,i,s,o,a);var u;return L(i)?u="":L(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":L(o)?i==="0"?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(O("replaceCaret pr",a),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(O("no pr"),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),O("caret return",u),u})}function Hs(e,t){return O("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return zs(r,t)}).join(" ")}function zs(e,t){e=e.trim();var r=t.loose?b[f.XRANGELOOSE]:b[f.XRANGE];return e.replace(r,function(n,i,s,o,a,u){O("xRange",e,n,i,s,o,a,u);var c=L(s),l=c||L(o),d=l||L(a),m=d;return i==="="&&m&&(i=""),u=t.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&m?(l&&(o=0),a=0,i===">"?(i=">=",l?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",l?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a+u):l?n=">="+s+".0.0"+u+" <"+(+s+1)+".0.0"+u:d&&(n=">="+s+"."+o+".0"+u+" <"+s+"."+(+o+1)+".0"+u),O("xRange return",n),n})}function Xs(e,t){return O("replaceStars",e,t),e.trim().replace(b[f.STAR],"")}function Ws(e,t,r,n,i,s,o,a,u,c,l,d,m){return L(r)?t="":L(n)?t=">="+r+".0.0":L(i)?t=">="+r+"."+n+".0":t=">="+t,L(u)?a="":L(c)?a="<"+(+u+1)+".0.0":L(l)?a="<"+u+"."+(+c+1)+".0":d?a="<="+u+"."+c+"."+l+"-"+d:a="<="+a,(t+" "+a).trim()}_.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new y(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(Js(this.set[t],e,this.options))return!0;return!1};function Js(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(O(e[n].semver),e[n].semver!==xe&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}p.satisfies=ut;function ut(e,t,r){try{t=new _(t,r)}catch(n){return!1}return t.test(e)}p.maxSatisfying=Ys;function Ys(e,t,r){var n=null,i=null;try{var s=new _(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new y(n,r))}),n}p.minSatisfying=Zs;function Zs(e,t,r){var n=null,i=null;try{var s=new _(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new y(n,r))}),n}p.minVersion=Qs;function Qs(e,t){e=new _(e,t);var r=new y("0.0.0");if(e.test(r)||(r=new y("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n){var i=e.set[n];i.forEach(function(s){var o=new y(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||Ve(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return r&&e.test(r)?r:null}p.validRange=Ks;function Ks(e,t){try{return new _(e,t).range||"*"}catch(r){return null}}p.ltr=eo;function eo(e,t,r){return Dt(e,t,"<",r)}p.gtr=to;function to(e,t,r){return Dt(e,t,">",r)}p.outside=Dt;function Dt(e,t,r,n){e=new y(e,n),t=new _(t,n);var i,s,o,a,u;switch(r){case">":i=Ve,s=qt,o=ot,a=">",u=">=";break;case"<":i=ot,s=$t,o=Ve,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ut(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],d=null,m=null;if(l.forEach(function(A){A.semver===xe&&(A=new F(">=0.0.0")),d=d||A,m=m||A,i(A.semver,d.semver,n)?d=A:o(A.semver,m.semver,n)&&(m=A)}),d.operator===a||d.operator===u||(!m.operator||m.operator===a)&&s(e,m.semver))return!1;if(m.operator===u&&o(e,m.semver))return!1}return!0}p.prerelease=ro;function ro(e,t){var r=Ee(e,t);return r&&r.prerelease.length?r.prerelease:null}p.intersects=no;function no(e,t,r){return e=new _(e,r),t=new _(t,r),e.intersects(t)}p.coerce=io;function io(e,t){if(e instanceof y)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match(b[f.COERCE]);else{for(var n;(n=b[f.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),b[f.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;b[f.COERCERTL].lastIndex=-1}return r===null?null:Ee(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});var Vr=E((ee,Ut)=>{"use strict";var so=ee&&ee.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})},oo=ee&&ee.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(ee,"__esModule",{value:!0});var Br=oo(jt()),kt=Ie(),Mr=require("os"),ao=require("child_process"),Gr=require("fs");function uo(e,t,r,n){return so(this,void 0,void 0,function*(){let i=Mr.platform(),s,o,a;for(let u of r){let c=u.version;if(kt.debug(`check ${c} satisfies ${e}`),Br.satisfies(c,e)&&(!t||u.stable===t)&&(a=u.files.find(l=>{kt.debug(`${l.arch}===${n} && ${l.platform}===${i}`);let d=l.arch===n&&l.platform===i;if(d&&l.platform_version){let m=Ut.exports._getOsVersion();m===l.platform_version?d=!0:d=Br.satisfies(m,l.platform_version)}return d}),a)){kt.debug(`matched ${u.version}`),o=u;break}}return o&&a&&(s=Object.assign({},o),s.files=[a]),s})}ee._findMatch=uo;function co(){let e=Mr.platform(),t="";if(e==="darwin")t=ao.execSync("sw_vers -productVersion").toString();else if(e==="linux"){let r=Ut.exports._readLinuxVersionFile();if(r){let n=r.split(`
`);for(let i of n){let s=i.split("=");if(s.length===2&&s[0].trim()==="DISTRIB_RELEASE"){t=s[1].trim();break}}}}return t}ee._getOsVersion=co;function lo(){let e="/etc/lsb-release",t="";return Gr.existsSync(e)&&(t=Gr.readFileSync(e).toString()),t}ee._readLinuxVersionFile=lo});var zr=E(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});function fo(e){let t=e.protocol==="https:",r;if(Hr(e))return r;let n;return t?n=process.env.https_proxy||process.env.HTTPS_PROXY:n=process.env.http_proxy||process.env.HTTP_PROXY,n&&(r=new URL(n)),r}ct.getProxyUrl=fo;function Hr(e){if(!e.hostname)return!1;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let n=[e.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let i of t.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(n.some(s=>s===i))return!0;return!1}ct.checkBypass=Hr});var Yr=E(Pe=>{"use strict";var xu=require("net"),ho=require("tls"),Ft=require("http"),Xr=require("https"),po=require("events"),Pu=require("assert"),mo=require("util");Pe.httpOverHttp=yo;Pe.httpsOverHttp=go;Pe.httpOverHttps=Eo;Pe.httpsOverHttps=wo;function yo(e){var t=new te(e);return t.request=Ft.request,t}function go(e){var t=new te(e);return t.request=Ft.request,t.createSocket=Wr,t.defaultPort=443,t}function Eo(e){var t=new te(e);return t.request=Xr.request,t}function wo(e){var t=new te(e);return t.request=Xr.request,t.createSocket=Wr,t.defaultPort=443,t}function te(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||Ft.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,i,s,o){for(var a=Jr(i,s,o),u=0,c=t.requests.length;u<c;++u){var l=t.requests[u];if(l.host===a.host&&l.port===a.port){t.requests.splice(u,1),l.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}mo.inherits(te,po.EventEmitter);te.prototype.addRequest=function(t,r,n,i){var s=this,o=Bt({request:t},s.options,Jr(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(a){a.on("free",u),a.on("close",c),a.on("agentRemove",c),t.onSocket(a);function u(){s.emit("free",a,o)}function c(l){s.removeSocket(a),a.removeListener("free",u),a.removeListener("close",c),a.removeListener("agentRemove",c)}})};te.prototype.createSocket=function(t,r){var n=this,i={};n.sockets.push(i);var s=Bt({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),ce("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",u),o.once("connect",c),o.once("error",l),o.end();function a(d){d.upgrade=!0}function u(d,m,A){process.nextTick(function(){c(d,m,A)})}function c(d,m,A){if(o.removeAllListeners(),m.removeAllListeners(),d.statusCode!==200){ce("tunneling socket could not be established, statusCode=%d",d.statusCode),m.destroy();var S=new Error("tunneling socket could not be established, statusCode="+d.statusCode);S.code="ECONNRESET",t.request.emit("error",S),n.removeSocket(i);return}if(A.length>0){ce("got illegal response body from proxy"),m.destroy();var S=new Error("got illegal response body from proxy");S.code="ECONNRESET",t.request.emit("error",S),n.removeSocket(i);return}return ce("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=m,r(m)}function l(d){o.removeAllListeners(),ce(`tunneling socket could not be established, cause=%s
`,d.message,d.stack);var m=new Error("tunneling socket could not be established, cause="+d.message);m.code="ECONNRESET",t.request.emit("error",m),n.removeSocket(i)}};te.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function Wr(e,t){var r=this;te.prototype.createSocket.call(r,e,function(n){var i=e.request.getHeader("host"),s=Bt({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):e.host}),o=ho.connect(0,s);r.sockets[r.sockets.indexOf(n)]=o,t(o)})}function Jr(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function Bt(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var a=i[s];n[a]!==void 0&&(e[a]=n[a])}}return e}var ce;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?ce=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:ce=function(){};Pe.debug=ce});var Qr=E((Cu,Zr)=>{Zr.exports=Yr()});var en=E(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var lt=require("http"),Mt=require("https"),Kr=zr(),Le,H;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(H=D.HttpCodes||(D.HttpCodes={}));var C;(function(e){e.Accept="accept",e.ContentType="content-type"})(C=D.Headers||(D.Headers={}));var le;(function(e){e.ApplicationJson="application/json"})(le=D.MediaTypes||(D.MediaTypes={}));function vo(e){let t=Kr.getProxyUrl(new URL(e));return t?t.href:""}D.getProxyUrl=vo;var bo=[H.MovedPermanently,H.ResourceMoved,H.SeeOther,H.TemporaryRedirect,H.PermanentRedirect],Oo=[H.BadGateway,H.ServiceUnavailable,H.GatewayTimeout],Ro=["OPTIONS","GET","DELETE","HEAD"],So=10,To=5,He=class extends Error{constructor(t,r){super(t);this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,He.prototype)}};D.HttpClientError=He;var Gt=class{constructor(t){this.message=t}readBody(){return new Promise(async(t,r)=>{let n=Buffer.alloc(0);this.message.on("data",i=>{n=Buffer.concat([n,i])}),this.message.on("end",()=>{t(n.toString())})})}};D.HttpClientResponse=Gt;function Ao(e){return new URL(e).protocol==="https:"}D.isHttps=Ao;var ft=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return this.request("OPTIONS",t,null,r||{})}get(t,r){return this.request("GET",t,null,r||{})}del(t,r){return this.request("DELETE",t,null,r||{})}post(t,r,n){return this.request("POST",t,r,n||{})}patch(t,r,n){return this.request("PATCH",t,r,n||{})}put(t,r,n){return this.request("PUT",t,r,n||{})}head(t,r){return this.request("HEAD",t,null,r||{})}sendStream(t,r,n,i){return this.request(t,r,n,i)}async getJson(t,r={}){r[C.Accept]=this._getExistingOrDefaultHeader(r,C.Accept,le.ApplicationJson);let n=await this.get(t,r);return this._processResponse(n,this.requestOptions)}async postJson(t,r,n={}){let i=JSON.stringify(r,null,2);n[C.Accept]=this._getExistingOrDefaultHeader(n,C.Accept,le.ApplicationJson),n[C.ContentType]=this._getExistingOrDefaultHeader(n,C.ContentType,le.ApplicationJson);let s=await this.post(t,i,n);return this._processResponse(s,this.requestOptions)}async putJson(t,r,n={}){let i=JSON.stringify(r,null,2);n[C.Accept]=this._getExistingOrDefaultHeader(n,C.Accept,le.ApplicationJson),n[C.ContentType]=this._getExistingOrDefaultHeader(n,C.ContentType,le.ApplicationJson);let s=await this.put(t,i,n);return this._processResponse(s,this.requestOptions)}async patchJson(t,r,n={}){let i=JSON.stringify(r,null,2);n[C.Accept]=this._getExistingOrDefaultHeader(n,C.Accept,le.ApplicationJson),n[C.ContentType]=this._getExistingOrDefaultHeader(n,C.ContentType,le.ApplicationJson);let s=await this.patch(t,i,n);return this._processResponse(s,this.requestOptions)}async request(t,r,n,i){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(t,s,i),a=this._allowRetries&&Ro.indexOf(t)!=-1?this._maxRetries+1:1,u=0,c;for(;u<a;){if(c=await this.requestRaw(o,n),c&&c.message&&c.message.statusCode===H.Unauthorized){let d;for(let m=0;m<this.handlers.length;m++)if(this.handlers[m].canHandleAuthentication(c)){d=this.handlers[m];break}return d?d.handleAuthentication(this,o,n):c}let l=this._maxRedirects;for(;bo.indexOf(c.message.statusCode)!=-1&&this._allowRedirects&&l>0;){let d=c.message.headers.location;if(!d)break;let m=new URL(d);if(s.protocol=="https:"&&s.protocol!=m.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(await c.readBody(),m.hostname!==s.hostname)for(let A in i)A.toLowerCase()==="authorization"&&delete i[A];o=this._prepareRequest(t,m,i),c=await this.requestRaw(o,n),l--}if(Oo.indexOf(c.message.statusCode)==-1)return c;u+=1,u<a&&(await c.readBody(),await this._performExponentialBackoff(u))}return c}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return new Promise((n,i)=>{let s=function(o,a){o&&i(o),n(a)};this.requestRawWithCallback(t,r,s)})}requestRawWithCallback(t,r,n){let i;typeof r=="string"&&(t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let s=!1,o=(u,c)=>{s||(s=!0,n(u,c))},a=t.httpModule.request(t.options,u=>{let c=new Gt(u);o(null,c)});a.on("socket",u=>{i=u}),a.setTimeout(this._socketTimeout||3*6e4,()=>{i&&i.end(),o(new Error("Request timeout: "+t.options.path),null)}),a.on("error",function(u){o(u,null)}),r&&typeof r=="string"&&a.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){a.end()}),r.pipe(a)):a.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?Mt:lt;let o=s?443:80;return i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers&&this.handlers.forEach(a=>{a.prepareRequest(i.options)}),i}_mergeHeaders(t){let r=n=>Object.keys(n).reduce((i,s)=>(i[s.toLowerCase()]=n[s],i),{});return this.requestOptions&&this.requestOptions.headers?Object.assign({},r(this.requestOptions.headers),r(t)):r(t||{})}_getExistingOrDefaultHeader(t,r,n){let i=o=>Object.keys(o).reduce((a,u)=>(a[u.toLowerCase()]=o[u],a),{}),s;return this.requestOptions&&this.requestOptions.headers&&(s=i(this.requestOptions.headers)[r]),t[r]||s||n}_getAgent(t){let r,n=Kr.getProxyUrl(t),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=t.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||lt.globalAgent.maxSockets),i){Le||(Le=Qr());let a={maxSockets:o,keepAlive:this._keepAlive,proxy:{proxyAuth:`${n.username}:${n.password}`,host:n.hostname,port:n.port}},u,c=n.protocol==="https:";s?u=c?Le.httpsOverHttps:Le.httpsOverHttp:u=c?Le.httpOverHttps:Le.httpOverHttp,r=u(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=s?new Mt.Agent(a):new lt.Agent(a),this._agent=r}return r||(r=s?Mt.globalAgent:lt.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){t=Math.min(So,t);let r=To*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))}static dateTimeDeserializer(t,r){if(typeof r=="string"){let n=new Date(r);if(!isNaN(n.valueOf()))return n}return r}async _processResponse(t,r){return new Promise(async(n,i)=>{let s=t.message.statusCode,o={statusCode:s,result:null,headers:{}};s==H.NotFound&&n(o);let a,u;try{u=await t.readBody(),u&&u.length>0&&(r&&r.deserializeDates?a=JSON.parse(u,ft.dateTimeDeserializer):a=JSON.parse(u),o.result=a),o.headers=t.message.headers}catch(c){}if(s>299){let c;a&&a.message?c=a.message:u&&u.length>0?c=u:c="Failed request: ("+s+")";let l=new He(c,s);l.result=o.result,i(l)}else n(o)})}};D.HttpClient=ft});var rn=E((qu,tn)=>{var _o=require("crypto");tn.exports=function(){return _o.randomBytes(16)}});var on=E((Du,sn)=>{var nn=[];for(var ht=0;ht<256;++ht)nn[ht]=(ht+256).toString(16).substr(1);function Io(e,t){var r=t||0,n=nn;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}sn.exports=Io});var un=E((ju,an)=>{var No=rn(),xo=on();function Po(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||No)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var s=0;s<16;++s)t[n+s]=i[s];return t||xo(i)}an.exports=Po});var fn=E(fe=>{"use strict";var Lo=fe&&fe.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})},Ce=fe&&fe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(fe,"__esModule",{value:!0});var dt=Ce(require("os")),cn=Ce(require("events")),Co=Ce(require("child_process")),$o=Ce(require("path")),qo=Ce(it()),Do=Ce(It()),pt=process.platform==="win32",ln=class extends cn.EventEmitter{constructor(t,r,n){super();if(!t)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=t,this.args=r||[],this.options=n||{}}_debug(t){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(t)}_getCommandString(t,r){let n=this._getSpawnFileName(),i=this._getSpawnArgs(t),s=r?"":"[command]";if(pt)if(this._isCmdFile()){s+=n;for(let o of i)s+=` ${o}`}else if(t.windowsVerbatimArguments){s+=`"${n}"`;for(let o of i)s+=` ${o}`}else{s+=this._windowsQuoteCmdArg(n);for(let o of i)s+=` ${this._windowsQuoteCmdArg(o)}`}else{s+=n;for(let o of i)s+=` ${o}`}return s}_processLineBuffer(t,r,n){try{let i=r+t.toString(),s=i.indexOf(dt.EOL);for(;s>-1;){let o=i.substring(0,s);n(o),i=i.substring(s+dt.EOL.length),s=i.indexOf(dt.EOL)}r=i}catch(i){this._debug(`error processing line. Failed with error ${i}`)}}_getSpawnFileName(){return pt&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(t){if(pt&&this._isCmdFile()){let r=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(let n of this.args)r+=" ",r+=t.windowsVerbatimArguments?n:this._windowsQuoteCmdArg(n);return r+='"',[r]}return this.args}_endsWith(t,r){return t.endsWith(r)}_isCmdFile(){let t=this.toolPath.toUpperCase();return this._endsWith(t,".CMD")||this._endsWith(t,".BAT")}_windowsQuoteCmdArg(t){if(!this._isCmdFile())return this._uvQuoteCmdArg(t);if(!t)return'""';let r=[" ","	","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'],n=!1;for(let o of t)if(r.some(a=>a===o)){n=!0;break}if(!n)return t;let i='"',s=!0;for(let o=t.length;o>0;o--)i+=t[o-1],s&&t[o-1]==="\\"?i+="\\":t[o-1]==='"'?(s=!0,i+='"'):s=!1;return i+='"',i.split("").reverse().join("")}_uvQuoteCmdArg(t){if(!t)return'""';if(!t.includes(" ")&&!t.includes("	")&&!t.includes('"'))return t;if(!t.includes('"')&&!t.includes("\\"))return`"${t}"`;let r='"',n=!0;for(let i=t.length;i>0;i--)r+=t[i-1],n&&t[i-1]==="\\"?r+="\\":t[i-1]==='"'?(n=!0,r+="\\"):n=!1;return r+='"',r.split("").reverse().join("")}_cloneExecOptions(t){t=t||{};let r={cwd:t.cwd||process.cwd(),env:t.env||process.env,silent:t.silent||!1,windowsVerbatimArguments:t.windowsVerbatimArguments||!1,failOnStdErr:t.failOnStdErr||!1,ignoreReturnCode:t.ignoreReturnCode||!1,delay:t.delay||1e4};return r.outStream=t.outStream||process.stdout,r.errStream=t.errStream||process.stderr,r}_getSpawnOptions(t,r){t=t||{};let n={};return n.cwd=t.cwd,n.env=t.env,n.windowsVerbatimArguments=t.windowsVerbatimArguments||this._isCmdFile(),t.windowsVerbatimArguments&&(n.argv0=`"${r}"`),n}exec(){return Lo(this,void 0,void 0,function*(){return!Do.isRooted(this.toolPath)&&(this.toolPath.includes("/")||pt&&this.toolPath.includes("\\"))&&(this.toolPath=$o.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield qo.which(this.toolPath,!0),new Promise((t,r)=>{this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(let c of this.args)this._debug(`   ${c}`);let n=this._cloneExecOptions(this.options);!n.silent&&n.outStream&&n.outStream.write(this._getCommandString(n)+dt.EOL);let i=new mt(n,this.toolPath);i.on("debug",c=>{this._debug(c)});let s=this._getSpawnFileName(),o=Co.spawn(s,this._getSpawnArgs(n),this._getSpawnOptions(this.options,s)),a="";o.stdout&&o.stdout.on("data",c=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(c),!n.silent&&n.outStream&&n.outStream.write(c),this._processLineBuffer(c,a,l=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(l)})});let u="";if(o.stderr&&o.stderr.on("data",c=>{i.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(c),!n.silent&&n.errStream&&n.outStream&&(n.failOnStdErr?n.errStream:n.outStream).write(c),this._processLineBuffer(c,u,l=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(l)})}),o.on("error",c=>{i.processError=c.message,i.processExited=!0,i.processClosed=!0,i.CheckComplete()}),o.on("exit",c=>{i.processExitCode=c,i.processExited=!0,this._debug(`Exit code ${c} received from tool '${this.toolPath}'`),i.CheckComplete()}),o.on("close",c=>{i.processExitCode=c,i.processExited=!0,i.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),i.CheckComplete()}),i.on("done",(c,l)=>{a.length>0&&this.emit("stdline",a),u.length>0&&this.emit("errline",u),o.removeAllListeners(),c?r(c):t(l)}),this.options.input){if(!o.stdin)throw new Error("child process missing stdin");o.stdin.end(this.options.input)}})})}};fe.ToolRunner=ln;function jo(e){let t=[],r=!1,n=!1,i="";function s(o){n&&o!=='"'&&(i+="\\"),i+=o,n=!1}for(let o=0;o<e.length;o++){let a=e.charAt(o);if(a==='"'){n?s(a):r=!r;continue}if(a==="\\"&&n){s(a);continue}if(a==="\\"&&r){n=!0;continue}if(a===" "&&!r){i.length>0&&(t.push(i),i="");continue}s(a)}return i.length>0&&t.push(i.trim()),t}fe.argStringToArray=jo;var mt=class extends cn.EventEmitter{constructor(t,r){super();if(this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!r)throw new Error("toolPath must not be empty");this.options=t,this.toolPath=r,t.delay&&(this.delay=t.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=setTimeout(mt.HandleTimeout,this.delay,this)))}_debug(t){this.emit("debug",t)}_setResult(){let t;this.processExited&&(this.processError?t=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):this.processExitCode!==0&&!this.options.ignoreReturnCode?t=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`):this.processStderr&&this.options.failOnStdErr&&(t=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`))),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",t,this.processExitCode)}static HandleTimeout(t){if(!t.done){if(!t.processClosed&&t.processExited){let r=`The STDIO streams did not close within ${t.delay/1e3} seconds of the exit event from process '${t.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;t._debug(r)}t._setResult()}}}});var dn=E(ve=>{"use strict";var ko=ve&&ve.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})},Uo=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(ve,"__esModule",{value:!0});var hn=Uo(fn());function Fo(e,t,r){return ko(this,void 0,void 0,function*(){let n=hn.argStringToArray(e);if(n.length===0)throw new Error("Parameter 'commandLine' cannot be null or empty.");let i=n[0];return t=n.slice(1).concat(t||[]),new hn.ToolRunner(i,t,r).exec()})}ve.exec=Fo});var gn=E(be=>{"use strict";var pn=be&&be.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})},Bo=be&&be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(be,"__esModule",{value:!0});var mn=Bo(Ie()),yn=class{constructor(t,r,n){if(t<1)throw new Error("max attempts should be greater than or equal to 1");if(this.maxAttempts=t,this.minSeconds=Math.floor(r),this.maxSeconds=Math.floor(n),this.minSeconds>this.maxSeconds)throw new Error("min seconds should be less than or equal to max seconds")}execute(t,r){return pn(this,void 0,void 0,function*(){let n=1;for(;n<this.maxAttempts;){try{return yield t()}catch(s){if(r&&!r(s))throw s;mn.info(s.message)}let i=this.getSleepAmount();mn.info(`Waiting ${i} seconds before trying again`),yield this.sleep(i),n++}return yield t()})}getSleepAmount(){return Math.floor(Math.random()*(this.maxSeconds-this.minSeconds+1))+this.minSeconds}sleep(t){return pn(this,void 0,void 0,function*(){return new Promise(r=>setTimeout(r,t*1e3))})}};be.RetryHelper=yn});var Tn=E(N=>{"use strict";var $=N&&N.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})},W=N&&N.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},Mo=N&&N.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(N,"__esModule",{value:!0});var R=W(Ie()),B=W(it()),M=W(require("fs")),Go=W(Vr()),ze=W(require("os")),z=W(require("path")),En=W(en()),re=W(jt()),Vo=W(require("stream")),Ho=W(require("util")),wn=Mo(un()),Oe=dn(),$e=require("assert"),zo=gn(),yt=class extends Error{constructor(t){super(`Unexpected HTTP response: ${t}`);this.httpStatusCode=t,Object.setPrototypeOf(this,new.target.prototype)}};N.HTTPError=yt;var Vt=process.platform==="win32",Xo=process.platform==="darwin",Wo="actions/tool-cache";function Jo(e,t,r){return $(this,void 0,void 0,function*(){t=t||z.join(Sn(),wn.default()),yield B.mkdirP(z.dirname(t)),R.debug(`Downloading ${e}`),R.debug(`Destination ${t}`);let n=3,i=Ht("TEST_DOWNLOAD_TOOL_RETRY_MIN_SECONDS",10),s=Ht("TEST_DOWNLOAD_TOOL_RETRY_MAX_SECONDS",20);return yield new zo.RetryHelper(n,i,s).execute(()=>$(this,void 0,void 0,function*(){return yield Yo(e,t||"",r)}),a=>!(a instanceof yt&&a.httpStatusCode&&a.httpStatusCode<500&&a.httpStatusCode!==408&&a.httpStatusCode!==429))})}N.downloadTool=Jo;function Yo(e,t,r){return $(this,void 0,void 0,function*(){if(M.existsSync(t))throw new Error(`Destination file path ${t} already exists`);let n=new En.HttpClient(Wo,[],{allowRetries:!1}),i;r&&(R.debug("set auth"),i={authorization:r});let s=yield n.get(e,i);if(s.message.statusCode!==200){let l=new yt(s.message.statusCode);throw R.debug(`Failed to download from "${e}". Code(${s.message.statusCode}) Message(${s.message.statusMessage})`),l}let o=Ho.promisify(Vo.pipeline),u=Ht("TEST_DOWNLOAD_TOOL_RESPONSE_MESSAGE_FACTORY",()=>s.message)(),c=!1;try{return yield o(u,M.createWriteStream(t)),R.debug("download complete"),c=!0,t}finally{if(!c){R.debug("download failed");try{yield B.rmRF(t)}catch(l){R.debug(`Failed to delete '${t}'. ${l.message}`)}}}})}function Zo(e,t,r){return $(this,void 0,void 0,function*(){$e.ok(Vt,"extract7z() not supported on current OS"),$e.ok(e,'parameter "file" is required'),t=yield gt(t);let n=process.cwd();if(process.chdir(t),r)try{let i=R.isDebug()?"-bb1":"-bb0",s=["x",i,"-bd","-sccUTF-8",e],o={silent:!0};yield Oe.exec(`"${r}"`,s,o)}finally{process.chdir(n)}else{let i=z.join(__dirname,"..","scripts","Invoke-7zdec.ps1").replace(/'/g,"''").replace(/"|\n|\r/g,""),s=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),o=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),a=`& '${i}' -Source '${s}' -Target '${o}'`,u=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",a],c={silent:!0};try{let l=yield B.which("powershell",!0);yield Oe.exec(`"${l}"`,u,c)}finally{process.chdir(n)}}return t})}N.extract7z=Zo;function Qo(e,t,r="xz"){return $(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'file' is required");t=yield gt(t),R.debug("Checking tar --version");let n="";yield Oe.exec("tar --version",[],{ignoreReturnCode:!0,silent:!0,listeners:{stdout:u=>n+=u.toString(),stderr:u=>n+=u.toString()}}),R.debug(n.trim());let i=n.toUpperCase().includes("GNU TAR"),s;r instanceof Array?s=r:s=[r],R.isDebug()&&!r.includes("v")&&s.push("-v");let o=t,a=e;return Vt&&i&&(s.push("--force-local"),o=t.replace(/\\/g,"/"),a=e.replace(/\\/g,"/")),i&&s.push("--warning=no-unknown-keyword"),s.push("-C",o,"-f",a),yield Oe.exec("tar",s),t})}N.extractTar=Qo;function Ko(e,t,r=[]){return $(this,void 0,void 0,function*(){$e.ok(Xo,"extractXar() not supported on current OS"),$e.ok(e,'parameter "file" is required'),t=yield gt(t);let n;r instanceof Array?n=r:n=[r],n.push("-x","-C",t,"-f",e),R.isDebug()&&n.push("-v");let i=yield B.which("xar",!0);return yield Oe.exec(`"${i}"`,ca(n)),t})}N.extractXar=Ko;function ea(e,t){return $(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'file' is required");return t=yield gt(t),Vt?yield ta(e,t):yield ra(e,t),t})}N.extractZip=ea;function ta(e,t){return $(this,void 0,void 0,function*(){let r=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),n=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),i=`$ErrorActionPreference = 'Stop' ; try { Add-Type -AssemblyName System.IO.Compression.FileSystem } catch { } ; [System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${n}')`,s=yield B.which("powershell",!0),o=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",i];yield Oe.exec(`"${s}"`,o)})}function ra(e,t){return $(this,void 0,void 0,function*(){let r=yield B.which("unzip",!0),n=[e];R.isDebug()||n.unshift("-q"),yield Oe.exec(`"${r}"`,n,{cwd:t})})}function na(e,t,r,n){return $(this,void 0,void 0,function*(){if(r=re.clean(r)||r,n=n||ze.arch(),R.debug(`Caching tool ${t} ${r} ${n}`),R.debug(`source dir: ${e}`),!M.statSync(e).isDirectory())throw new Error("sourceDir is not a directory");let i=yield bn(t,r,n);for(let s of M.readdirSync(e)){let o=z.join(e,s);yield B.cp(o,i,{recursive:!0})}return On(t,r,n),i})}N.cacheDir=na;function ia(e,t,r,n,i){return $(this,void 0,void 0,function*(){if(n=re.clean(n)||n,i=i||ze.arch(),R.debug(`Caching tool ${r} ${n} ${i}`),R.debug(`source file: ${e}`),!M.statSync(e).isFile())throw new Error("sourceFile is not a file");let s=yield bn(r,n,i),o=z.join(s,t);return R.debug(`destination file ${o}`),yield B.cp(e,o),On(r,n,i),s})}N.cacheFile=ia;function sa(e,t,r){if(!e)throw new Error("toolName parameter is required");if(!t)throw new Error("versionSpec parameter is required");if(r=r||ze.arch(),!Rn(t)){let i=vn(e,r);t=ua(i,t)}let n="";if(t){t=re.clean(t)||"";let i=z.join(Et(),e,t,r);R.debug(`checking cache: ${i}`),M.existsSync(i)&&M.existsSync(`${i}.complete`)?(R.debug(`Found tool in cache ${e} ${t} ${r}`),n=i):R.debug("not found")}return n}N.find=sa;function vn(e,t){let r=[];t=t||ze.arch();let n=z.join(Et(),e);if(M.existsSync(n)){let i=M.readdirSync(n);for(let s of i)if(Rn(s)){let o=z.join(n,s,t||"");M.existsSync(o)&&M.existsSync(`${o}.complete`)&&r.push(s)}}return r}N.findAllVersions=vn;function oa(e,t,r,n="master"){return $(this,void 0,void 0,function*(){let i=[],s=`https://api.github.com/repos/${e}/${t}/git/trees/${n}`,o=new En.HttpClient("tool-cache"),a={};r&&(R.debug("set auth"),a.authorization=r);let u=yield o.getJson(s,a);if(!u.result)return i;let c="";for(let d of u.result.tree)if(d.path==="versions-manifest.json"){c=d.url;break}a.accept="application/vnd.github.VERSION.raw";let l=yield(yield o.get(c,a)).readBody();if(l){l=l.replace(/^\uFEFF/,"");try{i=JSON.parse(l)}catch(d){R.debug("Invalid json")}}return i})}N.getManifestFromRepo=oa;function aa(e,t,r,n=ze.arch()){return $(this,void 0,void 0,function*(){return yield Go._findMatch(e,t,r,n)})}N.findFromManifest=aa;function gt(e){return $(this,void 0,void 0,function*(){return e||(e=z.join(Sn(),wn.default())),yield B.mkdirP(e),e})}function bn(e,t,r){return $(this,void 0,void 0,function*(){let n=z.join(Et(),e,re.clean(t)||t,r||"");R.debug(`destination ${n}`);let i=`${n}.complete`;return yield B.rmRF(n),yield B.rmRF(i),yield B.mkdirP(n),n})}function On(e,t,r){let i=`${z.join(Et(),e,re.clean(t)||t,r||"")}.complete`;M.writeFileSync(i,""),R.debug("finished caching tool")}function Rn(e){let t=re.clean(e)||"";R.debug(`isExplicit: ${t}`);let r=re.valid(t)!=null;return R.debug(`explicit? ${r}`),r}function ua(e,t){let r="";R.debug(`evaluating ${e.length} versions`),e=e.sort((n,i)=>re.gt(n,i)?1:-1);for(let n=e.length-1;n>=0;n--){let i=e[n];if(re.satisfies(i,t)){r=i;break}}return r?R.debug(`matched: ${r}`):R.debug("match not found"),r}function Et(){let e=process.env.RUNNER_TOOL_CACHE||"";return $e.ok(e,"Expected RUNNER_TOOL_CACHE to be defined"),e}function Sn(){let e=process.env.RUNNER_TEMP||"";return $e.ok(e,"Expected RUNNER_TEMP to be defined"),e}function Ht(e,t){let r=global[e];return r!==void 0?r:t}function ca(e){return Array.from(new Set(e))}});var Xe=E(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});function la(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}zt.getUserAgent=la});var In=E((Gu,_n)=>{_n.exports=An;function An(e,t,r,n){if(typeof r!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(t)?t.reverse().reduce(function(i,s){return An.bind(null,e,s,i,n)},r)():Promise.resolve().then(function(){return e.registry[t]?e.registry[t].reduce(function(i,s){return s.hook.bind(null,i,n)},r)():r(n)})}});var xn=E((Vu,Nn)=>{Nn.exports=fa;function fa(e,t,r,n){var i=n;e.registry[r]||(e.registry[r]=[]),t==="before"&&(n=function(s,o){return Promise.resolve().then(i.bind(null,o)).then(s.bind(null,o))}),t==="after"&&(n=function(s,o){var a;return Promise.resolve().then(s.bind(null,o)).then(function(u){return a=u,i(a,o)}).then(function(){return a})}),t==="error"&&(n=function(s,o){return Promise.resolve().then(s.bind(null,o)).catch(function(a){return i(a,o)})}),e.registry[r].push({hook:n,orig:i})}});var Ln=E((Hu,Pn)=>{Pn.exports=ha;function ha(e,t,r){if(!!e.registry[t]){var n=e.registry[t].map(function(i){return i.orig}).indexOf(r);n!==-1&&e.registry[t].splice(n,1)}}});var Un=E((zu,We)=>{var Cn=In(),da=xn(),pa=Ln(),$n=Function.bind,qn=$n.bind($n);function Dn(e,t,r){var n=qn(pa,null).apply(null,r?[t,r]:[t]);e.api={remove:n},e.remove=n,["before","error","after","wrap"].forEach(function(i){var s=r?[t,i,r]:[t,i];e[i]=e.api[i]=qn(da,null).apply(null,s)})}function ma(){var e="h",t={registry:{}},r=Cn.bind(null,t,e);return Dn(r,t,e),r}function jn(){var e={registry:{}},t=Cn.bind(null,e);return Dn(t,e),t}var kn=!1;function qe(){return kn||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),kn=!0),jn()}qe.Singular=ma.bind();qe.Collection=jn.bind();We.exports=qe;We.exports.Hook=qe;We.exports.Singular=qe.Singular;We.exports.Collection=qe.Collection});var Wt=E(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});function Fn(e){return Object.prototype.toString.call(e)==="[object Object]"}function ya(e){var t,r;return Fn(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(Fn(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}Xt.isPlainObject=ya});var Xn=E(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});var ga=Wt(),Ea=Xe();function wa(e){return e?Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}):{}}function Bn(e,t){let r=Object.assign({},e);return Object.keys(t).forEach(n=>{ga.isPlainObject(t[n])?n in e?r[n]=Bn(e[n],t[n]):Object.assign(r,{[n]:t[n]}):Object.assign(r,{[n]:t[n]})}),r}function Mn(e){for(let t in e)e[t]===void 0&&delete e[t];return e}function Jt(e,t,r){if(typeof t=="string"){let[i,s]=t.split(" ");r=Object.assign(s?{method:i,url:s}:{url:i},r)}else r=Object.assign({},t);r.headers=wa(r.headers),Mn(r),Mn(r.headers);let n=Bn(e||{},r);return e&&e.mediaType.previews.length&&(n.mediaType.previews=e.mediaType.previews.filter(i=>!n.mediaType.previews.includes(i)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(i=>i.replace(/-preview/,"")),n}function va(e,t){let r=/\?/.test(e)?"&":"?",n=Object.keys(t);return n.length===0?e:e+r+n.map(i=>i==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(t[i])}`).join("&")}var ba=/\{[^}]+\}/g;function Oa(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function Ra(e){let t=e.match(ba);return t?t.map(Oa).reduce((r,n)=>r.concat(n),[]):[]}function Gn(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}function Vn(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function De(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Je(e,t,r){return t=e==="+"||e==="#"?Vn(t):De(t),r?De(r)+"="+t:t}function je(e){return e!=null}function Yt(e){return e===";"||e==="&"||e==="?"}function Sa(e,t,r,n){var i=e[r],s=[];if(je(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),n&&n!=="*"&&(i=i.substring(0,parseInt(n,10))),s.push(Je(t,i,Yt(t)?r:""));else if(n==="*")Array.isArray(i)?i.filter(je).forEach(function(o){s.push(Je(t,o,Yt(t)?r:""))}):Object.keys(i).forEach(function(o){je(i[o])&&s.push(Je(t,i[o],o))});else{let o=[];Array.isArray(i)?i.filter(je).forEach(function(a){o.push(Je(t,a))}):Object.keys(i).forEach(function(a){je(i[a])&&(o.push(De(a)),o.push(Je(t,i[a].toString())))}),Yt(t)?s.push(De(r)+"="+o.join(",")):o.length!==0&&s.push(o.join(","))}else t===";"?je(i)&&s.push(De(r)):i===""&&(t==="&"||t==="?")?s.push(De(r)+"="):i===""&&s.push("");return s}function Ta(e){return{expand:Aa.bind(null,e)}}function Aa(e,t){var r=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,i,s){if(i){let a="",u=[];if(r.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var l=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);u.push(Sa(t,a,l[1],l[2]||l[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(u.length!==0?a:"")+u.join(o)}else return u.join(",")}else return Vn(s)})}function Hn(e){let t=e.method.toUpperCase(),r=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},e.headers),i,s=Gn(e,["method","baseUrl","url","headers","request","mediaType"]),o=Ra(r);r=Ta(r).expand(s),/^http/.test(r)||(r=e.baseUrl+r);let a=Object.keys(e).filter(l=>o.includes(l)).concat("baseUrl"),u=Gn(s,a);if(!/application\/octet-stream/i.test(n.accept)&&(e.mediaType.format&&(n.accept=n.accept.split(/,/).map(l=>l.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){let l=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=l.concat(e.mediaType.previews).map(d=>{let m=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${d}-preview${m}`}).join(",")}return["GET","HEAD"].includes(t)?r=va(r,u):"data"in u?i=u.data:Object.keys(u).length?i=u:n["content-length"]=0,!n["content-type"]&&typeof i!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof i=="undefined"&&(i=""),Object.assign({method:t,url:r,headers:n},typeof i!="undefined"?{body:i}:null,e.request?{request:e.request}:null)}function _a(e,t,r){return Hn(Jt(e,t,r))}function zn(e,t){let r=Jt(e,t),n=_a.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:zn.bind(null,r),merge:Jt.bind(null,r),parse:Hn})}var Ia="6.0.11",Na=`octokit-endpoint.js/${Ia} ${Ea.getUserAgent()}`,xa={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Na},mediaType:{format:"",previews:[]}},Pa=zn(null,xa);Zt.endpoint=Pa});var ii=E((J,ni)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});function Ye(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var X=Ye(require("stream")),Wn=Ye(require("http")),Qt=Ye(require("url")),La=Ye(require("https")),Re=Ye(require("zlib")),Ca=X.Readable,ne=Symbol("buffer"),Kt=Symbol("type"),Se=class{constructor(){this[Kt]="";let t=arguments[0],r=arguments[1],n=[],i=0;if(t){let o=t,a=Number(o.length);for(let u=0;u<a;u++){let c=o[u],l;c instanceof Buffer?l=c:ArrayBuffer.isView(c)?l=Buffer.from(c.buffer,c.byteOffset,c.byteLength):c instanceof ArrayBuffer?l=Buffer.from(c):c instanceof Se?l=c[ne]:l=Buffer.from(typeof c=="string"?c:String(c)),i+=l.length,n.push(l)}}this[ne]=Buffer.concat(n);let s=r&&r.type!==void 0&&String(r.type).toLowerCase();s&&!/[^\u0020-\u007E]/.test(s)&&(this[Kt]=s)}get size(){return this[ne].length}get type(){return this[Kt]}text(){return Promise.resolve(this[ne].toString())}arrayBuffer(){let t=this[ne],r=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return Promise.resolve(r)}stream(){let t=new Ca;return t._read=function(){},t.push(this[ne]),t.push(null),t}toString(){return"[object Blob]"}slice(){let t=this.size,r=arguments[0],n=arguments[1],i,s;r===void 0?i=0:r<0?i=Math.max(t+r,0):i=Math.min(r,t),n===void 0?s=t:n<0?s=Math.max(t+n,0):s=Math.min(n,t);let o=Math.max(s-i,0),u=this[ne].slice(i,i+o),c=new Se([],{type:arguments[2]});return c[ne]=u,c}};Object.defineProperties(Se.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Object.defineProperty(Se.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0});function P(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}P.prototype=Object.create(Error.prototype);P.prototype.constructor=P;P.prototype.name="FetchError";var er;try{er=require("encoding").convert}catch(e){}var ie=Symbol("Body internals"),Jn=X.PassThrough;function x(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.size;let i=n===void 0?0:n;var s=r.timeout;let o=s===void 0?0:s;e==null?e=null:Yn(e)?e=Buffer.from(e.toString()):Ze(e)||Buffer.isBuffer(e)||(Object.prototype.toString.call(e)==="[object ArrayBuffer]"?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof X||(e=Buffer.from(String(e)))),this[ie]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=o,e instanceof X&&e.on("error",function(a){let u=a.name==="AbortError"?a:new P(`Invalid response body while trying to fetch ${t.url}: ${a.message}`,"system",a);t[ie].error=u})}x.prototype={get body(){return this[ie].body},get bodyUsed(){return this[ie].disturbed},arrayBuffer(){return ke.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return ke.call(this).then(function(t){return Object.assign(new Se([],{type:e.toLowerCase()}),{[ne]:t})})},json(){var e=this;return ke.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(r){return x.Promise.reject(new P(`invalid json response body at ${e.url} reason: ${r.message}`,"invalid-json"))}})},text(){return ke.call(this).then(function(e){return e.toString()})},buffer(){return ke.call(this)},textConverted(){var e=this;return ke.call(this).then(function(t){return $a(t,e.headers)})}};Object.defineProperties(x.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});x.mixIn=function(e){for(let t of Object.getOwnPropertyNames(x.prototype))if(!(t in e)){let r=Object.getOwnPropertyDescriptor(x.prototype,t);Object.defineProperty(e,t,r)}};function ke(){var e=this;if(this[ie].disturbed)return x.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[ie].disturbed=!0,this[ie].error)return x.Promise.reject(this[ie].error);let t=this.body;if(t===null)return x.Promise.resolve(Buffer.alloc(0));if(Ze(t)&&(t=t.stream()),Buffer.isBuffer(t))return x.Promise.resolve(t);if(!(t instanceof X))return x.Promise.resolve(Buffer.alloc(0));let r=[],n=0,i=!1;return new x.Promise(function(s,o){let a;e.timeout&&(a=setTimeout(function(){i=!0,o(new P(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)),t.on("error",function(u){u.name==="AbortError"?(i=!0,o(u)):o(new P(`Invalid response body while trying to fetch ${e.url}: ${u.message}`,"system",u))}),t.on("data",function(u){if(!(i||u===null)){if(e.size&&n+u.length>e.size){i=!0,o(new P(`content size at ${e.url} over limit: ${e.size}`,"max-size"));return}n+=u.length,r.push(u)}}),t.on("end",function(){if(!i){clearTimeout(a);try{s(Buffer.concat(r,n))}catch(u){o(new P(`Could not create Buffer from response body for ${e.url}: ${u.message}`,"system",u))}}})})}function $a(e,t){if(typeof er!="function")throw new Error("The package `encoding` must be installed to use the textConverted() function");let r=t.get("content-type"),n="utf-8",i,s;return r&&(i=/charset=([^;]*)/i.exec(r)),s=e.slice(0,1024).toString(),!i&&s&&(i=/<meta.+?charset=(['"])(.+?)\1/i.exec(s)),!i&&s&&(i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(s),i||(i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(s),i&&i.pop()),i&&(i=/charset=(.*)/i.exec(i.pop()))),!i&&s&&(i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(s)),i&&(n=i.pop(),(n==="gb2312"||n==="gbk")&&(n="gb18030")),er(e,"UTF-8",n).toString()}function Yn(e){return typeof e!="object"||typeof e.append!="function"||typeof e.delete!="function"||typeof e.get!="function"||typeof e.getAll!="function"||typeof e.has!="function"||typeof e.set!="function"?!1:e.constructor.name==="URLSearchParams"||Object.prototype.toString.call(e)==="[object URLSearchParams]"||typeof e.sort=="function"}function Ze(e){return typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.constructor=="function"&&typeof e.constructor.name=="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function Zn(e){let t,r,n=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof X&&typeof n.getBoundary!="function"&&(t=new Jn,r=new Jn,n.pipe(t),n.pipe(r),e[ie].body=t,n=r),n}function Qn(e){return e===null?null:typeof e=="string"?"text/plain;charset=UTF-8":Yn(e)?"application/x-www-form-urlencoded;charset=UTF-8":Ze(e)?e.type||null:Buffer.isBuffer(e)||Object.prototype.toString.call(e)==="[object ArrayBuffer]"||ArrayBuffer.isView(e)?null:typeof e.getBoundary=="function"?`multipart/form-data;boundary=${e.getBoundary()}`:e instanceof X?null:"text/plain;charset=UTF-8"}function Kn(e){let t=e.body;return t===null?0:Ze(t)?t.size:Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&(t._lengthRetrievers&&t._lengthRetrievers.length==0||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}function qa(e,t){let r=t.body;r===null?e.end():Ze(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}x.Promise=global.Promise;var ei=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,tr=/[^\t\x20-\x7e\x80-\xff]/;function Qe(e){if(e=`${e}`,ei.test(e)||e==="")throw new TypeError(`${e} is not a legal HTTP header name`)}function ti(e){if(e=`${e}`,tr.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function Ue(e,t){t=t.toLowerCase();for(let r in e)if(r.toLowerCase()===t)return r}var I=Symbol("map"),j=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(this[I]=Object.create(null),t instanceof j){let r=t.raw(),n=Object.keys(r);for(let i of n)for(let s of r[i])this.append(i,s);return}if(t!=null)if(typeof t=="object"){let r=t[Symbol.iterator];if(r!=null){if(typeof r!="function")throw new TypeError("Header pairs must be iterable");let n=[];for(let i of t){if(typeof i!="object"||typeof i[Symbol.iterator]!="function")throw new TypeError("Each header pair must be iterable");n.push(Array.from(i))}for(let i of n){if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");this.append(i[0],i[1])}}else for(let n of Object.keys(t)){let i=t[n];this.append(n,i)}}else throw new TypeError("Provided initializer must be an object")}get(t){t=`${t}`,Qe(t);let r=Ue(this[I],t);return r===void 0?null:this[I][r].join(", ")}forEach(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=rr(this),i=0;for(;i<n.length;){var s=n[i];let o=s[0],a=s[1];t.call(r,a,o,this),n=rr(this),i++}}set(t,r){t=`${t}`,r=`${r}`,Qe(t),ti(r);let n=Ue(this[I],t);this[I][n!==void 0?n:t]=[r]}append(t,r){t=`${t}`,r=`${r}`,Qe(t),ti(r);let n=Ue(this[I],t);n!==void 0?this[I][n].push(r):this[I][t]=[r]}has(t){return t=`${t}`,Qe(t),Ue(this[I],t)!==void 0}delete(t){t=`${t}`,Qe(t);let r=Ue(this[I],t);r!==void 0&&delete this[I][r]}raw(){return this[I]}keys(){return ir(this,"key")}values(){return ir(this,"value")}[Symbol.iterator](){return ir(this,"key+value")}};j.prototype.entries=j.prototype[Symbol.iterator];Object.defineProperty(j.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(j.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});function rr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key+value";return Object.keys(e[I]).sort().map(t==="key"?function(n){return n.toLowerCase()}:t==="value"?function(n){return e[I][n].join(", ")}:function(n){return[n.toLowerCase(),e[I][n].join(", ")]})}var nr=Symbol("internal");function ir(e,t){let r=Object.create(sr);return r[nr]={target:e,kind:t,index:0},r}var sr=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==sr)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[nr];let t=e.target,r=e.kind,n=e.index,i=rr(t,r),s=i.length;return n>=s?{value:void 0,done:!0}:(this[nr].index=n+1,{value:i[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(sr,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});function Da(e){let t=Object.assign({__proto__:null},e[I]),r=Ue(e[I],"Host");return r!==void 0&&(t[r]=t[r][0]),t}function ja(e){let t=new j;for(let r of Object.keys(e))if(!ei.test(r))if(Array.isArray(e[r]))for(let n of e[r])tr.test(n)||(t[I][r]===void 0?t[I][r]=[n]:t[I][r].push(n));else tr.test(e[r])||(t[I][r]=[e[r]]);return t}var he=Symbol("Response internals"),ka=Wn.STATUS_CODES,G=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};x.call(this,t,r);let n=r.status||200,i=new j(r.headers);if(t!=null&&!i.has("Content-Type")){let s=Qn(t);s&&i.append("Content-Type",s)}this[he]={url:r.url,status:n,statusText:r.statusText||ka[n],headers:i,counter:r.counter}}get url(){return this[he].url||""}get status(){return this[he].status}get ok(){return this[he].status>=200&&this[he].status<300}get redirected(){return this[he].counter>0}get statusText(){return this[he].statusText}get headers(){return this[he].headers}clone(){return new G(Zn(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}};x.mixIn(G.prototype);Object.defineProperties(G.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Object.defineProperty(G.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});var se=Symbol("Request internals"),or=Qt.parse,Ua=Qt.format,Fa="destroy"in X.Readable.prototype;function wt(e){return typeof e=="object"&&typeof e[se]=="object"}function Ba(e){let t=e&&typeof e=="object"&&Object.getPrototypeOf(e);return!!(t&&t.constructor.name==="AbortSignal")}var oe=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;wt(t)?n=or(t.url):(t&&t.href?n=or(t.href):n=or(`${t}`),t={});let i=r.method||t.method||"GET";if(i=i.toUpperCase(),(r.body!=null||wt(t)&&t.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let s=r.body!=null?r.body:wt(t)&&t.body!==null?Zn(t):null;x.call(this,s,{timeout:r.timeout||t.timeout||0,size:r.size||t.size||0});let o=new j(r.headers||t.headers||{});if(s!=null&&!o.has("Content-Type")){let u=Qn(s);u&&o.append("Content-Type",u)}let a=wt(t)?t.signal:null;if("signal"in r&&(a=r.signal),a!=null&&!Ba(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[se]={method:i,redirect:r.redirect||t.redirect||"follow",headers:o,parsedURL:n,signal:a},this.follow=r.follow!==void 0?r.follow:t.follow!==void 0?t.follow:20,this.compress=r.compress!==void 0?r.compress:t.compress!==void 0?t.compress:!0,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent}get method(){return this[se].method}get url(){return Ua(this[se].parsedURL)}get headers(){return this[se].headers}get redirect(){return this[se].redirect}get signal(){return this[se].signal}clone(){return new oe(this)}};x.mixIn(oe.prototype);Object.defineProperty(oe.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(oe.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});function Ma(e){let t=e[se].parsedURL,r=new j(e[se].headers);if(r.has("Accept")||r.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof X.Readable&&!Fa)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let n=null;if(e.body==null&&/^(POST|PUT)$/i.test(e.method)&&(n="0"),e.body!=null){let s=Kn(e);typeof s=="number"&&(n=String(s))}n&&r.set("Content-Length",n),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let i=e.agent;return typeof i=="function"&&(i=i(t)),!r.has("Connection")&&!i&&r.set("Connection","close"),Object.assign({},t,{method:e.method,headers:Da(r),agent:i})}function Ke(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}Ke.prototype=Object.create(Error.prototype);Ke.prototype.constructor=Ke;Ke.prototype.name="AbortError";var ri=X.PassThrough,Ga=Qt.resolve;function de(e,t){if(!de.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return x.Promise=de.Promise,new de.Promise(function(r,n){let i=new oe(e,t),s=Ma(i),o=(s.protocol==="https:"?La:Wn).request,a=i.signal,u=null,c=function(){let ue=new Ke("The user aborted a request.");n(ue),i.body&&i.body instanceof X.Readable&&i.body.destroy(ue),!(!u||!u.body)&&u.body.emit("error",ue)};if(a&&a.aborted){c();return}let l=function(){c(),A()},d=o(s),m;a&&a.addEventListener("abort",l);function A(){d.abort(),a&&a.removeEventListener("abort",l),clearTimeout(m)}i.timeout&&d.once("socket",function(S){m=setTimeout(function(){n(new P(`network timeout at: ${i.url}`,"request-timeout")),A()},i.timeout)}),d.on("error",function(S){n(new P(`request to ${i.url} failed, reason: ${S.message}`,"system",S)),A()}),d.on("response",function(S){clearTimeout(m);let ue=ja(S.headers);if(de.isRedirect(S.statusCode)){let St=ue.get("Location"),Ae=St===null?null:Ga(i.url,St);switch(i.redirect){case"error":n(new P(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),A();return;case"manual":if(Ae!==null)try{ue.set("Location",Ae)}catch(Pi){n(Pi)}break;case"follow":if(Ae===null)break;if(i.counter>=i.follow){n(new P(`maximum redirect reached at: ${i.url}`,"max-redirect")),A();return}let tt={headers:new j(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:i.body,signal:i.signal,timeout:i.timeout,size:i.size};if(S.statusCode!==303&&i.body&&Kn(i)===null){n(new P("Cannot follow redirect with body being a readable stream","unsupported-redirect")),A();return}(S.statusCode===303||(S.statusCode===301||S.statusCode===302)&&i.method==="POST")&&(tt.method="GET",tt.body=void 0,tt.headers.delete("content-length")),r(de(new oe(Ae,tt))),A();return}}S.once("end",function(){a&&a.removeEventListener("abort",l)});let q=S.pipe(new ri),Me={url:i.url,status:S.statusCode,statusText:S.statusMessage,headers:ue,size:i.size,timeout:i.timeout,counter:i.counter},Te=ue.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||Te===null||S.statusCode===204||S.statusCode===304){u=new G(q,Me),r(u);return}let xi={flush:Re.Z_SYNC_FLUSH,finishFlush:Re.Z_SYNC_FLUSH};if(Te=="gzip"||Te=="x-gzip"){q=q.pipe(Re.createGunzip(xi)),u=new G(q,Me),r(u);return}if(Te=="deflate"||Te=="x-deflate"){S.pipe(new ri).once("data",function(Ae){(Ae[0]&15)==8?q=q.pipe(Re.createInflate()):q=q.pipe(Re.createInflateRaw()),u=new G(q,Me),r(u)});return}if(Te=="br"&&typeof Re.createBrotliDecompress=="function"){q=q.pipe(Re.createBrotliDecompress()),u=new G(q,Me),r(u);return}u=new G(q,Me),r(u)}),qa(d,i)})}de.isRedirect=function(e){return e===301||e===302||e===303||e===307||e===308};de.Promise=global.Promise;ni.exports=J=de;Object.defineProperty(J,"__esModule",{value:!0});J.default=J;J.Headers=j;J.Request=oe;J.Response=G;J.FetchError=P});var oi=E(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});var si=class extends Error{constructor(t){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}};ar.Deprecation=si});var ci=E((Yu,ui)=>{ui.exports=ai;function ai(e,t){if(e&&t)return ai(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var hi=E((Zu,ur)=>{var li=ci();ur.exports=li(vt);ur.exports.strict=li(fi);vt.proto=vt(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return vt(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return fi(this)},configurable:!0})});function vt(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function fi(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var pi=E(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});function Va(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Ha=oi(),za=Va(hi()),Xa=za(e=>console.warn(e)),di=class extends Error{constructor(t,r,n){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r,Object.defineProperty(this,"code",{get(){return Xa(new Ha.Deprecation("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),this.headers=n.headers||{};let i=Object.assign({},n.request);n.request.headers.authorization&&(i.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i}};cr.RequestError=di});var hr=E(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});function Wa(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Ja=Xn(),Ya=Xe(),Za=Wt(),Qa=Wa(ii()),et=pi(),Ka="5.4.14";function eu(e){return e.arrayBuffer()}function mi(e){(Za.isPlainObject(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let t={},r,n;return(e.request&&e.request.fetch||Qa)(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(s=>{n=s.url,r=s.status;for(let a of s.headers)t[a[0]]=a[1];if(r===204||r===205)return;if(e.method==="HEAD"){if(r<400)return;throw new et.RequestError(s.statusText,r,{headers:t,request:e})}if(r===304)throw new et.RequestError("Not modified",r,{headers:t,request:e});if(r>=400)return s.text().then(a=>{let u=new et.RequestError(a,r,{headers:t,request:e});try{let c=JSON.parse(u.message);Object.assign(u,c);let l=c.errors;u.message=u.message+": "+l.map(JSON.stringify).join(", ")}catch(c){}throw u});let o=s.headers.get("content-type");return/application\/json/.test(o)?s.json():!o||/^text\/|charset=utf-8$/.test(o)?s.text():eu(s)}).then(s=>({status:r,url:n,headers:t,data:s})).catch(s=>{throw s instanceof et.RequestError?s:new et.RequestError(s.message,500,{headers:t,request:e})})}function lr(e,t){let r=e.defaults(t);return Object.assign(function(i,s){let o=r.merge(i,s);if(!o.request||!o.request.hook)return mi(r.parse(o));let a=(u,c)=>mi(r.parse(r.merge(u,c)));return Object.assign(a,{endpoint:r,defaults:lr.bind(null,r)}),o.request.hook(a,o)},{endpoint:r,defaults:lr.bind(null,r)})}var tu=lr(Ja.endpoint,{headers:{"user-agent":`octokit-request.js/${Ka} ${Ya.getUserAgent()}`}});fr.request=tu});var wi=E(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var yi=hr(),ru=Xe(),nu="4.6.1",gi=class extends Error{constructor(t,r){let n=r.data.errors[0].message;super(n);Object.assign(this,r.data),Object.assign(this,{headers:r.headers}),this.name="GraphqlError",this.request=t,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},iu=["method","baseUrl","url","headers","request","query","mediaType"],su=["query","method","url"],Ei=/\/api\/v3\/?$/;function ou(e,t,r){if(r){if(typeof t=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let o in r)if(!!su.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}let n=typeof t=="string"?Object.assign({query:t},r):t,i=Object.keys(n).reduce((o,a)=>iu.includes(a)?(o[a]=n[a],o):(o.variables||(o.variables={}),o.variables[a]=n[a],o),{}),s=n.baseUrl||e.endpoint.DEFAULTS.baseUrl;return Ei.test(s)&&(i.url=s.replace(Ei,"/api/graphql")),e(i).then(o=>{if(o.data.errors){let a={};for(let u of Object.keys(o.headers))a[u]=o.headers[u];throw new gi(i,{headers:a,data:o.data})}return o.data.data})}function dr(e,t){let r=e.defaults(t);return Object.assign((i,s)=>ou(r,i,s),{defaults:dr.bind(null,r),endpoint:yi.request.endpoint})}var au=dr(yi.request,{headers:{"user-agent":`octokit-graphql.js/${nu} ${ru.getUserAgent()}`},method:"POST",url:"/graphql"});function uu(e){return dr(e,{method:"POST",url:"/graphql"})}bt.graphql=au;bt.withCustomRequest=uu});var vi=E(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});async function cu(e){let t=e.split(/\./).length===3?"app":/^v\d+\./.test(e)?"installation":"oauth";return{type:"token",token:e,tokenType:t}}function lu(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function fu(e,t,r,n){let i=t.endpoint.merge(r,n);return i.headers.authorization=lu(e),t(i)}var hu=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(cu.bind(null,t),{hook:fu.bind(null,t)})};pr.createTokenAuth=hu});var Ri=E(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});var du=Xe(),pu=Un(),bi=hr(),mu=wi(),yu=vi();function gu(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Eu(e,t){if(e==null)return{};var r=gu(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}var Oi="3.3.1",Ot=class{constructor(t={}){let r=new pu.Collection,n={baseUrl:bi.request.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[t.userAgent,`octokit-core.js/${Oi} ${du.getUserAgent()}`].filter(Boolean).join(" "),t.baseUrl&&(n.baseUrl=t.baseUrl),t.previews&&(n.mediaType.previews=t.previews),t.timeZone&&(n.headers["time-zone"]=t.timeZone),this.request=bi.request.defaults(n),this.graphql=mu.withCustomRequest(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=r,t.authStrategy){let{authStrategy:s}=t,o=Eu(t,["authStrategy"]),a=s(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},t.auth));r.wrap("request",a.hook),this.auth=a}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{let s=yu.createTokenAuth(t.auth);r.wrap("request",s.hook),this.auth=s}this.constructor.plugins.forEach(s=>{Object.assign(this,s(this,t))})}static defaults(t){return class extends this{constructor(...n){let i=n[0]||{};if(typeof t=="function"){super(t(i));return}super(Object.assign({},t,i,i.userAgent&&t.userAgent?{userAgent:`${i.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var r;let n=this.plugins;return r=class extends this{},r.plugins=n.concat(t.filter(s=>!n.includes(s))),r}};Ot.VERSION=Oi;Ot.plugins=[];mr.Octokit=Ot});var Ai=Y(require("child_process")),_i=Y(require("path")),k=Y(Ie()),Ii=Y(it());var pe=Y(require("os")),Be=Y(require("path")),ae=Y(Ie()),me=Y(Tn()),Si=Y(Ri());function Fe(e){return e.message!==void 0}var Rt="v";async function Ti(e){let t=me.find("buf",e,pe.arch());if(t!=="")return ae.info(`Found in cache @ ${t}`),t;ae.info("Resolving the download URL for the current platform...");let r=await wu(e);if(Fe(r))return r;ae.info(`Downloading buf version "${e}" from ${r}`);let n=await me.downloadTool(r);ae.info(`Successfully downloaded buf version "${e}" from ${r}`),ae.info("Extracting buf...");let i="";Be.extname(r)===".tar.gz"?i=await me.extractTar(n):i=Be.dirname(n),ae.info(`Successfully extracted buf to ${i}`),ae.info("Adding buf to the cache...");let s=await me.cacheDir(Be.join(i,"buf"),"buf",e,pe.arch());return ae.info(`Successfully cached buf to ${s}`),s}async function wu(e){let t="";switch(pe.arch()){case"x64":t="x86_64";break;case"arm64":t="arm64";break;default:return{message:`The "${pe.arch()}" architecture is not supported with a Buf release.`}}let r="";switch(pe.platform()){case"linux":r="Linux";break;case"darwin":r="Darwin";break;case"win32":r="Windows";break;default:return{message:`The "${pe.platform()}" platform is not supported with a Buf release.`}}let n="";r==="Windows"?n=`buf-${r}-${t}.exe`:n=`buf-${r}-${t}.tar.gz`;let i=new Si.Octokit,{data:s}=await i.request("GET /repos/{owner}/{repo}/releases",{owner:"bufbuild",repo:"buf"});switch(e){case"latest":for(let o of s[0].assets)if(n===o.name)return o.browser_download_url;break;default:for(let o of s)if(vu(o.tag_name,e)){for(let a of o.assets)if(n===a.name)return a.browser_download_url}}return{message:`Unable to find Buf version "${e}" for platform "${r}" and architecture "${t}".`}}function vu(e,t){return e.indexOf(Rt)===0&&(e=e.slice(Rt.length)),t.indexOf(Rt)===0&&(t=t.slice(Rt.length)),e===t}async function Ni(){try{let e=await bu();e!==null&&Fe(e)&&k.setFailed(e.message)}catch(e){if(Fe(e)){k.setFailed(e.message);return}k.setFailed("Internal error")}}async function bu(){let e=k.getInput("version");e===""&&(e="latest"),k.info(`Setting up buf version "${e}"`);let t=await Ti(e);if(Fe(t))return t;k.info("Adding buf binary to PATH"),k.addPath(_i.join(t,"bin"));let r=await Ii.which("buf",!0);return r===""?{message:"buf was not found on PATH"}:(k.info(`Successfully setup buf version ${e}`),k.info(Ai.default.execSync(`${r} --version`).toString()),null)}Ni();
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
//# sourceMappingURL=main.js.map

"use strict";var ks=Object.create;var yt=Object.defineProperty;var Bs=Object.getOwnPropertyDescriptor;var Gs=Object.getOwnPropertyNames;var Vs=Object.getPrototypeOf,Hs=Object.prototype.hasOwnProperty;var M=(e,t)=>()=>(e&&(t=e(e=0)),t);var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ws=(e,t)=>{for(var r in t)yt(e,r,{get:t[r],enumerable:!0})},mn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Gs(t))!Hs.call(e,i)&&i!==r&&yt(e,i,{get:()=>t[i],enumerable:!(n=Bs(t,i))||n.enumerable});return e};var $=(e,t,r)=>(r=e!=null?ks(Vs(e)):{},mn(t||!e||!e.__esModule?yt(r,"default",{value:e,enumerable:!0}):r,e)),Xs=e=>mn(yt({},"__esModule",{value:!0}),e);var Et=v(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.toCommandProperties=xe.toCommandValue=void 0;function zs(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}xe.toCommandValue=zs;function Js(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}xe.toCommandProperties=Js});var En=v(Y=>{"use strict";var Ys=Y&&Y.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ks=Y&&Y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Qs=Y&&Y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ys(t,e,r);return Ks(t,e),t};Object.defineProperty(Y,"__esModule",{value:!0});Y.issue=Y.issueCommand=void 0;var Zs=Qs(require("os")),vn=Et();function yn(e,t,r){let n=new Yt(e,t,r);process.stdout.write(n.toString()+Zs.EOL)}Y.issueCommand=yn;function ea(e,t=""){yn(e,{},t)}Y.issue=ea;var gn="::",Yt=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=gn+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:t+=",",t+=`${n}=${ra(i)}`)}}return t+=`${gn}${ta(this.message)}`,t}};function ta(e){return vn.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function ra(e){return vn.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function Ye(){return _t>wt.length-16&&(_n.default.randomFillSync(wt),_t=0),wt.slice(_t,_t+=16)}var _n,wt,_t,Kt=M(()=>{_n=$(require("crypto")),wt=new Uint8Array(256),_t=wt.length});var wn,bn=M(()=>{wn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function na(e){return typeof e=="string"&&wn.test(e)}var ge,Ke=M(()=>{bn();ge=na});function ia(e,t=0){let r=(q[e[t+0]]+q[e[t+1]]+q[e[t+2]]+q[e[t+3]]+"-"+q[e[t+4]]+q[e[t+5]]+"-"+q[e[t+6]]+q[e[t+7]]+"-"+q[e[t+8]]+q[e[t+9]]+"-"+q[e[t+10]]+q[e[t+11]]+q[e[t+12]]+q[e[t+13]]+q[e[t+14]]+q[e[t+15]]).toLowerCase();if(!ge(r))throw TypeError("Stringified UUID is invalid");return r}var q,ve,Qe=M(()=>{Ke();q=[];for(let e=0;e<256;++e)q.push((e+256).toString(16).substr(1));ve=ia});function oa(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let o=e.node||On,s=e.clockseq!==void 0?e.clockseq:Qt;if(o==null||s==null){let p=e.random||(e.rng||Ye)();o==null&&(o=On=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=Qt=(p[6]<<8|p[7])&16383)}let u=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:er+1,l=u-Zt+(c-er)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||u>Zt)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Zt=u,er=c,Qt=s,u+=122192928e5;let a=((u&268435455)*1e4+c)%4294967296;i[n++]=a>>>24&255,i[n++]=a>>>16&255,i[n++]=a>>>8&255,i[n++]=a&255;let f=u/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let p=0;p<6;++p)i[n+p]=o[p];return t||ve(i)}var On,Qt,Zt,er,Rn,Sn=M(()=>{Kt();Qe();Zt=0,er=0;Rn=oa});function sa(e){if(!ge(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var bt,tr=M(()=>{Ke();bt=sa});function aa(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Ot(e,t,r){function n(i,o,s,u){if(typeof i=="string"&&(i=aa(i)),typeof o=="string"&&(o=bt(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,s){u=u||0;for(let l=0;l<16;++l)s[u+l]=c[l];return s}return ve(c)}try{n.name=e}catch{}return n.DNS=ua,n.URL=ca,n}var ua,ca,rr=M(()=>{Qe();tr();ua="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ca="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function la(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Tn.default.createHash("md5").update(e).digest()}var Tn,Cn,An=M(()=>{Tn=$(require("crypto"));Cn=la});var fa,Pn,In=M(()=>{rr();An();fa=Ot("v3",48,Cn),Pn=fa});function da(e,t,r){e=e||{};let n=e.random||(e.rng||Ye)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return ve(n)}var xn,Nn=M(()=>{Kt();Qe();xn=da});function ha(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Ln.default.createHash("sha1").update(e).digest()}var Ln,Dn,jn=M(()=>{Ln=$(require("crypto"));Dn=ha});var pa,$n,qn=M(()=>{rr();jn();pa=Ot("v5",80,Dn),$n=pa});var Fn,Un=M(()=>{Fn="00000000-0000-0000-0000-000000000000"});function ma(e){if(!ge(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Mn,kn=M(()=>{Ke();Mn=ma});var Bn={};Ws(Bn,{NIL:()=>Fn,parse:()=>bt,stringify:()=>ve,v1:()=>Rn,v3:()=>Pn,v4:()=>xn,v5:()=>$n,validate:()=>ge,version:()=>Mn});var Gn=M(()=>{Sn();In();Nn();qn();Un();kn();Ke();Qe();tr()});var Xn=v(K=>{"use strict";var ga=K&&K.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),va=K&&K.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hn=K&&K.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&ga(t,e,r);return va(t,e),t};Object.defineProperty(K,"__esModule",{value:!0});K.prepareKeyValueMessage=K.issueFileCommand=void 0;var Vn=Hn(require("fs")),nr=Hn(require("os")),ya=(Gn(),Xs(Bn)),Wn=Et();function Ea(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!Vn.existsSync(r))throw new Error(`Missing file at path: ${r}`);Vn.appendFileSync(r,`${Wn.toCommandValue(t)}${nr.EOL}`,{encoding:"utf8"})}K.issueFileCommand=Ea;function _a(e,t){let r=`ghadelimiter_${ya.v4()}`,n=Wn.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${nr.EOL}${n}${nr.EOL}${r}`}K.prepareKeyValueMessage=_a});var Jn=v(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.checkBypass=Ne.getProxyUrl=void 0;function wa(e){let t=e.protocol==="https:";if(zn(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Ne.getProxyUrl=wa;function zn(e){if(!e.hostname)return!1;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let n=[e.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let i of t.split(",").map(o=>o.trim().toUpperCase()).filter(o=>o))if(n.some(o=>o===i))return!0;return!1}Ne.checkBypass=zn});var Zn=v(Le=>{"use strict";var Lh=require("net"),ba=require("tls"),ir=require("http"),Yn=require("https"),Oa=require("events"),Dh=require("assert"),Ra=require("util");Le.httpOverHttp=Sa;Le.httpsOverHttp=Ta;Le.httpOverHttps=Ca;Le.httpsOverHttps=Aa;function Sa(e){var t=new de(e);return t.request=ir.request,t}function Ta(e){var t=new de(e);return t.request=ir.request,t.createSocket=Kn,t.defaultPort=443,t}function Ca(e){var t=new de(e);return t.request=Yn.request,t}function Aa(e){var t=new de(e);return t.request=Yn.request,t.createSocket=Kn,t.defaultPort=443,t}function de(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||ir.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,i,o,s){for(var u=Qn(i,o,s),c=0,l=t.requests.length;c<l;++c){var a=t.requests[c];if(a.host===u.host&&a.port===u.port){t.requests.splice(c,1),a.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}Ra.inherits(de,Oa.EventEmitter);de.prototype.addRequest=function(t,r,n,i){var o=this,s=or({request:t},o.options,Qn(r,n,i));if(o.sockets.length>=this.maxSockets){o.requests.push(s);return}o.createSocket(s,function(u){u.on("free",c),u.on("close",l),u.on("agentRemove",l),t.onSocket(u);function c(){o.emit("free",u,s)}function l(a){o.removeSocket(u),u.removeListener("free",c),u.removeListener("close",l),u.removeListener("agentRemove",l)}})};de.prototype.createSocket=function(t,r){var n=this,i={};n.sockets.push(i);var o=or({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(o.localAddress=t.localAddress),o.proxyAuth&&(o.headers=o.headers||{},o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")),ye("making CONNECT request");var s=n.request(o);s.useChunkedEncodingByDefault=!1,s.once("response",u),s.once("upgrade",c),s.once("connect",l),s.once("error",a),s.end();function u(f){f.upgrade=!0}function c(f,p,E){process.nextTick(function(){l(f,p,E)})}function l(f,p,E){if(s.removeAllListeners(),p.removeAllListeners(),f.statusCode!==200){ye("tunneling socket could not be established, statusCode=%d",f.statusCode),p.destroy();var j=new Error("tunneling socket could not be established, statusCode="+f.statusCode);j.code="ECONNRESET",t.request.emit("error",j),n.removeSocket(i);return}if(E.length>0){ye("got illegal response body from proxy"),p.destroy();var j=new Error("got illegal response body from proxy");j.code="ECONNRESET",t.request.emit("error",j),n.removeSocket(i);return}return ye("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=p,r(p)}function a(f){s.removeAllListeners(),ye(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var p=new Error("tunneling socket could not be established, cause="+f.message);p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(i)}};de.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function Kn(e,t){var r=this;de.prototype.createSocket.call(r,e,function(n){var i=e.request.getHeader("host"),o=or({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):e.host}),s=ba.connect(0,o);r.sockets[r.sockets.indexOf(n)]=s,t(s)})}function Qn(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function or(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var i=Object.keys(n),o=0,s=i.length;o<s;++o){var u=i[o];n[u]!==void 0&&(e[u]=n[u])}}return e}var ye;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?ye=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:ye=function(){};Le.debug=ye});var ti=v(($h,ei)=>{ei.exports=Zn()});var ur=v(C=>{"use strict";var Pa=C&&C.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ia=C&&C.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),At=C&&C.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Pa(t,e,r);return Ia(t,e),t},L=C&&C.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(C,"__esModule",{value:!0});C.HttpClient=C.isHttps=C.HttpClientResponse=C.HttpClientError=C.getProxyUrl=C.MediaTypes=C.Headers=C.HttpCodes=void 0;var Rt=At(require("http")),sr=At(require("https")),ri=At(Jn()),St=At(ti()),ie;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(ie=C.HttpCodes||(C.HttpCodes={}));var k;(function(e){e.Accept="accept",e.ContentType="content-type"})(k=C.Headers||(C.Headers={}));var Ee;(function(e){e.ApplicationJson="application/json"})(Ee=C.MediaTypes||(C.MediaTypes={}));function xa(e){let t=ri.getProxyUrl(new URL(e));return t?t.href:""}C.getProxyUrl=xa;var Na=[ie.MovedPermanently,ie.ResourceMoved,ie.SeeOther,ie.TemporaryRedirect,ie.PermanentRedirect],La=[ie.BadGateway,ie.ServiceUnavailable,ie.GatewayTimeout],Da=["OPTIONS","GET","DELETE","HEAD"],ja=10,$a=5,De=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,De.prototype)}};C.HttpClientError=De;var Ct=class{constructor(t){this.message=t}readBody(){return L(this,void 0,void 0,function*(){return new Promise(t=>L(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};C.HttpClientResponse=Ct;function qa(e){return new URL(e).protocol==="https:"}C.isHttps=qa;var ar=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return L(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return L(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return L(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return L(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return L(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return L(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return L(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,i){return L(this,void 0,void 0,function*(){return this.request(t,r,n,i)})}getJson(t,r={}){return L(this,void 0,void 0,function*(){r[k.Accept]=this._getExistingOrDefaultHeader(r,k.Accept,Ee.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return L(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[k.Accept]=this._getExistingOrDefaultHeader(n,k.Accept,Ee.ApplicationJson),n[k.ContentType]=this._getExistingOrDefaultHeader(n,k.ContentType,Ee.ApplicationJson);let o=yield this.post(t,i,n);return this._processResponse(o,this.requestOptions)})}putJson(t,r,n={}){return L(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[k.Accept]=this._getExistingOrDefaultHeader(n,k.Accept,Ee.ApplicationJson),n[k.ContentType]=this._getExistingOrDefaultHeader(n,k.ContentType,Ee.ApplicationJson);let o=yield this.put(t,i,n);return this._processResponse(o,this.requestOptions)})}patchJson(t,r,n={}){return L(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[k.Accept]=this._getExistingOrDefaultHeader(n,k.Accept,Ee.ApplicationJson),n[k.ContentType]=this._getExistingOrDefaultHeader(n,k.ContentType,Ee.ApplicationJson);let o=yield this.patch(t,i,n);return this._processResponse(o,this.requestOptions)})}request(t,r,n,i){return L(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let o=new URL(r),s=this._prepareRequest(t,o,i),u=this._allowRetries&&Da.includes(t)?this._maxRetries+1:1,c=0,l;do{if(l=yield this.requestRaw(s,n),l&&l.message&&l.message.statusCode===ie.Unauthorized){let f;for(let p of this.handlers)if(p.canHandleAuthentication(l)){f=p;break}return f?f.handleAuthentication(this,s,n):l}let a=this._maxRedirects;for(;l.message.statusCode&&Na.includes(l.message.statusCode)&&this._allowRedirects&&a>0;){let f=l.message.headers.location;if(!f)break;let p=new URL(f);if(o.protocol==="https:"&&o.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield l.readBody(),p.hostname!==o.hostname)for(let E in i)E.toLowerCase()==="authorization"&&delete i[E];s=this._prepareRequest(t,p,i),l=yield this.requestRaw(s,n),a--}if(!l.message.statusCode||!La.includes(l.message.statusCode))return l;c+=1,c<u&&(yield l.readBody(),yield this._performExponentialBackoff(c))}while(c<u);return l})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return L(this,void 0,void 0,function*(){return new Promise((n,i)=>{function o(s,u){s?i(s):u?n(u):i(new Error("Unknown error"))}this.requestRawWithCallback(t,r,o)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function o(c,l){i||(i=!0,n(c,l))}let s=t.httpModule.request(t.options,c=>{let l=new Ct(c);o(void 0,l)}),u;s.on("socket",c=>{u=c}),s.setTimeout(this._socketTimeout||3*6e4,()=>{u&&u.end(),o(new Error(`Request timeout: ${t.options.path}`))}),s.on("error",function(c){o(c)}),r&&typeof r=="string"&&s.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){s.end()}),r.pipe(s)):s.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let i={};i.parsedUrl=r;let o=i.parsedUrl.protocol==="https:";i.httpModule=o?sr:Rt;let s=o?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):s,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let u of this.handlers)u.prepareRequest(i.options);return i}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Tt(this.requestOptions.headers),Tt(t||{})):Tt(t||{})}_getExistingOrDefaultHeader(t,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=Tt(this.requestOptions.headers)[r]),t[r]||i||n}_getAgent(t){let r,n=ri.getProxyUrl(t),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let o=t.protocol==="https:",s=100;if(this.requestOptions&&(s=this.requestOptions.maxSockets||Rt.globalAgent.maxSockets),n&&n.hostname){let u={maxSockets:s,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,l=n.protocol==="https:";o?c=l?St.httpsOverHttps:St.httpsOverHttp:c=l?St.httpOverHttps:St.httpOverHttp,r=c(u),this._proxyAgent=r}if(this._keepAlive&&!r){let u={keepAlive:this._keepAlive,maxSockets:s};r=o?new sr.Agent(u):new Rt.Agent(u),this._agent=r}return r||(r=o?sr.globalAgent:Rt.globalAgent),o&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return L(this,void 0,void 0,function*(){t=Math.min(ja,t);let r=$a*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return L(this,void 0,void 0,function*(){return new Promise((n,i)=>L(this,void 0,void 0,function*(){let o=t.message.statusCode||0,s={statusCode:o,result:null,headers:{}};o===ie.NotFound&&n(s);function u(a,f){if(typeof f=="string"){let p=new Date(f);if(!isNaN(p.valueOf()))return p}return f}let c,l;try{l=yield t.readBody(),l&&l.length>0&&(r&&r.deserializeDates?c=JSON.parse(l,u):c=JSON.parse(l),s.result=c),s.headers=t.message.headers}catch{}if(o>299){let a;c&&c.message?a=c.message:l&&l.length>0?a=l:a=`Failed request: (${o})`;let f=new De(a,o);f.result=s.result,i(f)}else n(s)}))})}};C.HttpClient=ar;var Tt=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var ni=v(ae=>{"use strict";var dr=ae&&ae.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(ae,"__esModule",{value:!0});ae.PersonalAccessTokenCredentialHandler=ae.BearerCredentialHandler=ae.BasicCredentialHandler=void 0;var cr=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return dr(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ae.BasicCredentialHandler=cr;var lr=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return dr(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ae.BearerCredentialHandler=lr;var fr=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return dr(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ae.PersonalAccessTokenCredentialHandler=fr});var si=v(je=>{"use strict";var ii=je&&je.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(je,"__esModule",{value:!0});je.OidcClient=void 0;var Fa=ur(),Ua=ni(),oi=we(),_e=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new Fa.HttpClient("actions/oidc-client",[new Ua.BearerCredentialHandler(_e.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return ii(this,void 0,void 0,function*(){let o=(r=(yield _e.createHttpClient().getJson(t).catch(s=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${s.statusCode}
 
        Error Message: ${s.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!o)throw new Error("Response json body do not have ID Token field");return o})}static getIDToken(t){return ii(this,void 0,void 0,function*(){try{let r=_e.getIDTokenUrl();if(t){let i=encodeURIComponent(t);r=`${r}&audience=${i}`}oi.debug(`ID token url is ${r}`);let n=yield _e.getCall(r);return oi.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};je.OidcClient=_e});var gr=v(V=>{"use strict";var hr=V&&V.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(V,"__esModule",{value:!0});V.summary=V.markdownSummary=V.SUMMARY_DOCS_URL=V.SUMMARY_ENV_VAR=void 0;var Ma=require("os"),pr=require("fs"),{access:ka,appendFile:Ba,writeFile:Ga}=pr.promises;V.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";V.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var mr=class{constructor(){this._buffer=""}filePath(){return hr(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[V.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${V.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield ka(t,pr.constants.R_OK|pr.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let i=Object.entries(n).map(([o,s])=>` ${o}="${s}"`).join("");return r?`<${t}${i}>${r}</${t}>`:`<${t}${i}>`}write(t){return hr(this,void 0,void 0,function*(){let r=!!(t!=null&&t.overwrite),n=yield this.filePath();return yield(r?Ga:Ba)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return hr(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(Ma.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(i).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",i=t.map(s=>this.wrap("li",s)).join(""),o=this.wrap(n,i);return this.addRaw(o).addEOL()}addTable(t){let r=t.map(i=>{let o=i.map(s=>{if(typeof s=="string")return this.wrap("td",s);let{header:u,data:c,colspan:l,rowspan:a}=s,f=u?"th":"td",p=Object.assign(Object.assign({},l&&{colspan:l}),a&&{rowspan:a});return this.wrap(f,c,p)}).join("");return this.wrap("tr",o)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:i,height:o}=n||{},s=Object.assign(Object.assign({},i&&{width:i}),o&&{height:o}),u=this.wrap("img",null,Object.assign({src:t,alt:r},s));return this.addRaw(u).addEOL()}addHeading(t,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",o=this.wrap(i,t);return this.addRaw(o).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",t,n);return this.addRaw(i).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},ai=new mr;V.markdownSummary=ai;V.summary=ai});var ui=v(H=>{"use strict";var Va=H&&H.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ha=H&&H.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Wa=H&&H.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Va(t,e,r);return Ha(t,e),t};Object.defineProperty(H,"__esModule",{value:!0});H.toPlatformPath=H.toWin32Path=H.toPosixPath=void 0;var Xa=Wa(require("path"));function za(e){return e.replace(/[\\]/g,"/")}H.toPosixPath=za;function Ja(e){return e.replace(/[/]/g,"\\")}H.toWin32Path=Ja;function Ya(e){return e.replace(/[/\\]/g,Xa.sep)}H.toPlatformPath=Ya});var we=v(m=>{"use strict";var Ka=m&&m.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qa=m&&m.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ci=m&&m.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ka(t,e,r);return Qa(t,e),t},li=m&&m.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(m,"__esModule",{value:!0});m.getIDToken=m.getState=m.saveState=m.group=m.endGroup=m.startGroup=m.info=m.notice=m.warning=m.error=m.debug=m.isDebug=m.setFailed=m.setCommandEcho=m.setOutput=m.getBooleanInput=m.getMultilineInput=m.getInput=m.addPath=m.setSecret=m.exportVariable=m.ExitCode=void 0;var Q=En(),Te=Xn(),$e=Et(),fi=ci(require("os")),Za=ci(require("path")),eu=si(),di;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(di=m.ExitCode||(m.ExitCode={}));function tu(e,t){let r=$e.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return Te.issueFileCommand("ENV",Te.prepareKeyValueMessage(e,t));Q.issueCommand("set-env",{name:e},r)}m.exportVariable=tu;function ru(e){Q.issueCommand("add-mask",{},e)}m.setSecret=ru;function nu(e){process.env.GITHUB_PATH||""?Te.issueFileCommand("PATH",e):Q.issueCommand("add-path",{},e),process.env.PATH=`${e}${Za.delimiter}${process.env.PATH}`}m.addPath=nu;function vr(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}m.getInput=vr;function iu(e,t){let r=vr(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}m.getMultilineInput=iu;function ou(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=vr(e,t);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}m.getBooleanInput=ou;function su(e,t){if(process.env.GITHUB_OUTPUT||"")return Te.issueFileCommand("OUTPUT",Te.prepareKeyValueMessage(e,t));process.stdout.write(fi.EOL),Q.issueCommand("set-output",{name:e},$e.toCommandValue(t))}m.setOutput=su;function au(e){Q.issue("echo",e?"on":"off")}m.setCommandEcho=au;function uu(e){process.exitCode=di.Failure,hi(e)}m.setFailed=uu;function cu(){return process.env.RUNNER_DEBUG==="1"}m.isDebug=cu;function lu(e){Q.issueCommand("debug",{},e)}m.debug=lu;function hi(e,t={}){Q.issueCommand("error",$e.toCommandProperties(t),e instanceof Error?e.toString():e)}m.error=hi;function fu(e,t={}){Q.issueCommand("warning",$e.toCommandProperties(t),e instanceof Error?e.toString():e)}m.warning=fu;function du(e,t={}){Q.issueCommand("notice",$e.toCommandProperties(t),e instanceof Error?e.toString():e)}m.notice=du;function hu(e){process.stdout.write(e+fi.EOL)}m.info=hu;function pi(e){Q.issue("group",e)}m.startGroup=pi;function mi(){Q.issue("endgroup")}m.endGroup=mi;function pu(e,t){return li(this,void 0,void 0,function*(){pi(e);let r;try{r=yield t()}finally{mi()}return r})}m.group=pu;function mu(e,t){if(process.env.GITHUB_STATE||"")return Te.issueFileCommand("STATE",Te.prepareKeyValueMessage(e,t));Q.issueCommand("save-state",{name:e},$e.toCommandValue(t))}m.saveState=mu;function gu(e){return process.env[`STATE_${e}`]||""}m.getState=gu;function vu(e){return li(this,void 0,void 0,function*(){return yield eu.OidcClient.getIDToken(e)})}m.getIDToken=vu;var yu=gr();Object.defineProperty(m,"summary",{enumerable:!0,get:function(){return yu.summary}});var Eu=gr();Object.defineProperty(m,"markdownSummary",{enumerable:!0,get:function(){return Eu.markdownSummary}});var yr=ui();Object.defineProperty(m,"toPosixPath",{enumerable:!0,get:function(){return yr.toPosixPath}});Object.defineProperty(m,"toWin32Path",{enumerable:!0,get:function(){return yr.toWin32Path}});Object.defineProperty(m,"toPlatformPath",{enumerable:!0,get:function(){return yr.toPlatformPath}})});var _r=v(g=>{"use strict";var _u=g&&g.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wu=g&&g.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vi=g&&g.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&_u(t,e,r);return wu(t,e),t},Er=g&&g.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})},Z;Object.defineProperty(g,"__esModule",{value:!0});g.getCmdPath=g.tryGetExecutablePath=g.isRooted=g.isDirectory=g.exists=g.IS_WINDOWS=g.unlink=g.symlink=g.stat=g.rmdir=g.rename=g.readlink=g.readdir=g.mkdir=g.lstat=g.copyFile=g.chmod=void 0;var bu=vi(require("fs")),Pt=vi(require("path"));Z=bu.promises,g.chmod=Z.chmod,g.copyFile=Z.copyFile,g.lstat=Z.lstat,g.mkdir=Z.mkdir,g.readdir=Z.readdir,g.readlink=Z.readlink,g.rename=Z.rename,g.rmdir=Z.rmdir,g.stat=Z.stat,g.symlink=Z.symlink,g.unlink=Z.unlink;g.IS_WINDOWS=process.platform==="win32";function Ou(e){return Er(this,void 0,void 0,function*(){try{yield g.stat(e)}catch(t){if(t.code==="ENOENT")return!1;throw t}return!0})}g.exists=Ou;function Ru(e,t=!1){return Er(this,void 0,void 0,function*(){return(t?yield g.stat(e):yield g.lstat(e)).isDirectory()})}g.isDirectory=Ru;function Su(e){if(e=Cu(e),!e)throw new Error('isRooted() parameter "p" cannot be empty');return g.IS_WINDOWS?e.startsWith("\\")||/^[A-Z]:/i.test(e):e.startsWith("/")}g.isRooted=Su;function Tu(e,t){return Er(this,void 0,void 0,function*(){let r;try{r=yield g.stat(e)}catch(i){i.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${i}`)}if(r&&r.isFile()){if(g.IS_WINDOWS){let i=Pt.extname(e).toUpperCase();if(t.some(o=>o.toUpperCase()===i))return e}else if(gi(r))return e}let n=e;for(let i of t){e=n+i,r=void 0;try{r=yield g.stat(e)}catch(o){o.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${o}`)}if(r&&r.isFile()){if(g.IS_WINDOWS){try{let o=Pt.dirname(e),s=Pt.basename(e).toUpperCase();for(let u of yield g.readdir(o))if(s===u.toUpperCase()){e=Pt.join(o,u);break}}catch(o){console.log(`Unexpected error attempting to determine the actual case of the file '${e}': ${o}`)}return e}else if(gi(r))return e}}return""})}g.tryGetExecutablePath=Tu;function Cu(e){return e=e||"",g.IS_WINDOWS?(e=e.replace(/\//g,"\\"),e.replace(/\\\\+/g,"\\")):e.replace(/\/\/+/g,"/")}function gi(e){return(e.mode&1)>0||(e.mode&8)>0&&e.gid===process.getgid()||(e.mode&64)>0&&e.uid===process.getuid()}function Au(){var e;return(e=process.env.COMSPEC)!==null&&e!==void 0?e:"cmd.exe"}g.getCmdPath=Au});var It=v(I=>{"use strict";var Pu=I&&I.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Iu=I&&I.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wr=I&&I.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Pu(t,e,r);return Iu(t,e),t},be=I&&I.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(I,"__esModule",{value:!0});I.findInPath=I.which=I.mkdirP=I.rmRF=I.mv=I.cp=void 0;var xu=require("assert"),Ei=wr(require("child_process")),ue=wr(require("path")),_i=require("util"),O=wr(_r()),yi=_i.promisify(Ei.exec),Nu=_i.promisify(Ei.execFile);function Lu(e,t,r={}){return be(this,void 0,void 0,function*(){let{force:n,recursive:i,copySourceDirectory:o}=ju(r),s=(yield O.exists(t))?yield O.stat(t):null;if(s&&s.isFile()&&!n)return;let u=s&&s.isDirectory()&&o?ue.join(t,ue.basename(e)):t;if(!(yield O.exists(e)))throw new Error(`no such file or directory: ${e}`);if((yield O.stat(e)).isDirectory())if(i)yield Ri(e,u,0,n);else throw new Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`);else{if(ue.relative(e,u)==="")throw new Error(`'${u}' and '${e}' are the same file`);yield Si(e,u,n)}})}I.cp=Lu;function Du(e,t,r={}){return be(this,void 0,void 0,function*(){if(yield O.exists(t)){let n=!0;if((yield O.isDirectory(t))&&(t=ue.join(t,ue.basename(e)),n=yield O.exists(t)),n)if(r.force==null||r.force)yield wi(t);else throw new Error("Destination already exists")}yield br(ue.dirname(t)),yield O.rename(e,t)})}I.mv=Du;function wi(e){return be(this,void 0,void 0,function*(){if(O.IS_WINDOWS){if(/[*"<>|]/.test(e))throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{let t=O.getCmdPath();(yield O.isDirectory(e,!0))?yield yi(`${t} /s /c "rd /s /q "%inputPath%""`,{env:{inputPath:e}}):yield yi(`${t} /s /c "del /f /a "%inputPath%""`,{env:{inputPath:e}})}catch(t){if(t.code!=="ENOENT")throw t}try{yield O.unlink(e)}catch(t){if(t.code!=="ENOENT")throw t}}else{let t=!1;try{t=yield O.isDirectory(e)}catch(r){if(r.code!=="ENOENT")throw r;return}t?yield Nu("rm",["-rf",`${e}`]):yield O.unlink(e)}})}I.rmRF=wi;function br(e){return be(this,void 0,void 0,function*(){xu.ok(e,"a path argument must be provided"),yield O.mkdir(e,{recursive:!0})})}I.mkdirP=br;function bi(e,t){return be(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'tool' is required");if(t){let n=yield bi(e,!1);if(!n)throw O.IS_WINDOWS?new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return n}let r=yield Oi(e);return r&&r.length>0?r[0]:""})}I.which=bi;function Oi(e){return be(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'tool' is required");let t=[];if(O.IS_WINDOWS&&process.env.PATHEXT)for(let i of process.env.PATHEXT.split(ue.delimiter))i&&t.push(i);if(O.isRooted(e)){let i=yield O.tryGetExecutablePath(e,t);return i?[i]:[]}if(e.includes(ue.sep))return[];let r=[];if(process.env.PATH)for(let i of process.env.PATH.split(ue.delimiter))i&&r.push(i);let n=[];for(let i of r){let o=yield O.tryGetExecutablePath(ue.join(i,e),t);o&&n.push(o)}return n})}I.findInPath=Oi;function ju(e){let t=e.force==null?!0:e.force,r=Boolean(e.recursive),n=e.copySourceDirectory==null?!0:Boolean(e.copySourceDirectory);return{force:t,recursive:r,copySourceDirectory:n}}function Ri(e,t,r,n){return be(this,void 0,void 0,function*(){if(r>=255)return;r++,yield br(t);let i=yield O.readdir(e);for(let o of i){let s=`${e}/${o}`,u=`${t}/${o}`;(yield O.lstat(s)).isDirectory()?yield Ri(s,u,r,n):yield Si(s,u,n)}yield O.chmod(t,(yield O.stat(e)).mode)})}function Si(e,t,r){return be(this,void 0,void 0,function*(){if((yield O.lstat(e)).isSymbolicLink()){try{yield O.lstat(t),yield O.unlink(t)}catch(i){i.code==="EPERM"&&(yield O.chmod(t,"0666"),yield O.unlink(t))}let n=yield O.readlink(e);yield O.symlink(n,t,O.IS_WINDOWS?"junction":null)}else(!(yield O.exists(t))||r)&&(yield O.copyFile(e,t))})}});var Ir=v((y,Ii)=>{y=Ii.exports=_;var T;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?T=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:T=function(){};y.SEMVER_SPEC_VERSION="2.0.0";var Ze=256,xt=Number.MAX_SAFE_INTEGER||9007199254740991,Or=16,$u=Ze-6,qe=y.re=[],S=y.safeRe=[],h=y.src=[],d=y.tokens={},Ai=0;function b(e){d[e]=Ai++}var Sr="[a-zA-Z0-9-]",Rr=[["\\s",1],["\\d",Ze],[Sr,$u]];function tt(e){for(var t=0;t<Rr.length;t++){var r=Rr[t][0],n=Rr[t][1];e=e.split(r+"*").join(r+"{0,"+n+"}").split(r+"+").join(r+"{1,"+n+"}")}return e}b("NUMERICIDENTIFIER");h[d.NUMERICIDENTIFIER]="0|[1-9]\\d*";b("NUMERICIDENTIFIERLOOSE");h[d.NUMERICIDENTIFIERLOOSE]="\\d+";b("NONNUMERICIDENTIFIER");h[d.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-]"+Sr+"*";b("MAINVERSION");h[d.MAINVERSION]="("+h[d.NUMERICIDENTIFIER]+")\\.("+h[d.NUMERICIDENTIFIER]+")\\.("+h[d.NUMERICIDENTIFIER]+")";b("MAINVERSIONLOOSE");h[d.MAINVERSIONLOOSE]="("+h[d.NUMERICIDENTIFIERLOOSE]+")\\.("+h[d.NUMERICIDENTIFIERLOOSE]+")\\.("+h[d.NUMERICIDENTIFIERLOOSE]+")";b("PRERELEASEIDENTIFIER");h[d.PRERELEASEIDENTIFIER]="(?:"+h[d.NUMERICIDENTIFIER]+"|"+h[d.NONNUMERICIDENTIFIER]+")";b("PRERELEASEIDENTIFIERLOOSE");h[d.PRERELEASEIDENTIFIERLOOSE]="(?:"+h[d.NUMERICIDENTIFIERLOOSE]+"|"+h[d.NONNUMERICIDENTIFIER]+")";b("PRERELEASE");h[d.PRERELEASE]="(?:-("+h[d.PRERELEASEIDENTIFIER]+"(?:\\."+h[d.PRERELEASEIDENTIFIER]+")*))";b("PRERELEASELOOSE");h[d.PRERELEASELOOSE]="(?:-?("+h[d.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+h[d.PRERELEASEIDENTIFIERLOOSE]+")*))";b("BUILDIDENTIFIER");h[d.BUILDIDENTIFIER]=Sr+"+";b("BUILD");h[d.BUILD]="(?:\\+("+h[d.BUILDIDENTIFIER]+"(?:\\."+h[d.BUILDIDENTIFIER]+")*))";b("FULL");b("FULLPLAIN");h[d.FULLPLAIN]="v?"+h[d.MAINVERSION]+h[d.PRERELEASE]+"?"+h[d.BUILD]+"?";h[d.FULL]="^"+h[d.FULLPLAIN]+"$";b("LOOSEPLAIN");h[d.LOOSEPLAIN]="[v=\\s]*"+h[d.MAINVERSIONLOOSE]+h[d.PRERELEASELOOSE]+"?"+h[d.BUILD]+"?";b("LOOSE");h[d.LOOSE]="^"+h[d.LOOSEPLAIN]+"$";b("GTLT");h[d.GTLT]="((?:<|>)?=?)";b("XRANGEIDENTIFIERLOOSE");h[d.XRANGEIDENTIFIERLOOSE]=h[d.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";b("XRANGEIDENTIFIER");h[d.XRANGEIDENTIFIER]=h[d.NUMERICIDENTIFIER]+"|x|X|\\*";b("XRANGEPLAIN");h[d.XRANGEPLAIN]="[v=\\s]*("+h[d.XRANGEIDENTIFIER]+")(?:\\.("+h[d.XRANGEIDENTIFIER]+")(?:\\.("+h[d.XRANGEIDENTIFIER]+")(?:"+h[d.PRERELEASE]+")?"+h[d.BUILD]+"?)?)?";b("XRANGEPLAINLOOSE");h[d.XRANGEPLAINLOOSE]="[v=\\s]*("+h[d.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+h[d.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+h[d.XRANGEIDENTIFIERLOOSE]+")(?:"+h[d.PRERELEASELOOSE]+")?"+h[d.BUILD]+"?)?)?";b("XRANGE");h[d.XRANGE]="^"+h[d.GTLT]+"\\s*"+h[d.XRANGEPLAIN]+"$";b("XRANGELOOSE");h[d.XRANGELOOSE]="^"+h[d.GTLT]+"\\s*"+h[d.XRANGEPLAINLOOSE]+"$";b("COERCE");h[d.COERCE]="(^|[^\\d])(\\d{1,"+Or+"})(?:\\.(\\d{1,"+Or+"}))?(?:\\.(\\d{1,"+Or+"}))?(?:$|[^\\d])";b("COERCERTL");qe[d.COERCERTL]=new RegExp(h[d.COERCE],"g");S[d.COERCERTL]=new RegExp(tt(h[d.COERCE]),"g");b("LONETILDE");h[d.LONETILDE]="(?:~>?)";b("TILDETRIM");h[d.TILDETRIM]="(\\s*)"+h[d.LONETILDE]+"\\s+";qe[d.TILDETRIM]=new RegExp(h[d.TILDETRIM],"g");S[d.TILDETRIM]=new RegExp(tt(h[d.TILDETRIM]),"g");var qu="$1~";b("TILDE");h[d.TILDE]="^"+h[d.LONETILDE]+h[d.XRANGEPLAIN]+"$";b("TILDELOOSE");h[d.TILDELOOSE]="^"+h[d.LONETILDE]+h[d.XRANGEPLAINLOOSE]+"$";b("LONECARET");h[d.LONECARET]="(?:\\^)";b("CARETTRIM");h[d.CARETTRIM]="(\\s*)"+h[d.LONECARET]+"\\s+";qe[d.CARETTRIM]=new RegExp(h[d.CARETTRIM],"g");S[d.CARETTRIM]=new RegExp(tt(h[d.CARETTRIM]),"g");var Fu="$1^";b("CARET");h[d.CARET]="^"+h[d.LONECARET]+h[d.XRANGEPLAIN]+"$";b("CARETLOOSE");h[d.CARETLOOSE]="^"+h[d.LONECARET]+h[d.XRANGEPLAINLOOSE]+"$";b("COMPARATORLOOSE");h[d.COMPARATORLOOSE]="^"+h[d.GTLT]+"\\s*("+h[d.LOOSEPLAIN]+")$|^$";b("COMPARATOR");h[d.COMPARATOR]="^"+h[d.GTLT]+"\\s*("+h[d.FULLPLAIN]+")$|^$";b("COMPARATORTRIM");h[d.COMPARATORTRIM]="(\\s*)"+h[d.GTLT]+"\\s*("+h[d.LOOSEPLAIN]+"|"+h[d.XRANGEPLAIN]+")";qe[d.COMPARATORTRIM]=new RegExp(h[d.COMPARATORTRIM],"g");S[d.COMPARATORTRIM]=new RegExp(tt(h[d.COMPARATORTRIM]),"g");var Uu="$1$2$3";b("HYPHENRANGE");h[d.HYPHENRANGE]="^\\s*("+h[d.XRANGEPLAIN]+")\\s+-\\s+("+h[d.XRANGEPLAIN]+")\\s*$";b("HYPHENRANGELOOSE");h[d.HYPHENRANGELOOSE]="^\\s*("+h[d.XRANGEPLAINLOOSE]+")\\s+-\\s+("+h[d.XRANGEPLAINLOOSE]+")\\s*$";b("STAR");h[d.STAR]="(<|>)?=?\\s*\\*";for(ce=0;ce<Ai;ce++)T(ce,h[ce]),qe[ce]||(qe[ce]=new RegExp(h[ce]),S[ce]=new RegExp(tt(h[ce])));var ce;y.parse=Ae;function Ae(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof _)return e;if(typeof e!="string"||e.length>Ze)return null;var r=t.loose?S[d.LOOSE]:S[d.FULL];if(!r.test(e))return null;try{return new _(e,t)}catch{return null}}y.valid=Mu;function Mu(e,t){var r=Ae(e,t);return r?r.version:null}y.clean=ku;function ku(e,t){var r=Ae(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}y.SemVer=_;function _(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof _){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>Ze)throw new TypeError("version is longer than "+Ze+" characters");if(!(this instanceof _))return new _(e,t);T("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?S[d.LOOSE]:S[d.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>xt||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xt||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xt||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<xt)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}_.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};_.prototype.toString=function(){return this.version};_.prototype.compare=function(e){return T("SemVer.compare",this.version,this.options,e),e instanceof _||(e=new _(e,this.options)),this.compareMain(e)||this.comparePre(e)};_.prototype.compareMain=function(e){return e instanceof _||(e=new _(e,this.options)),Ce(this.major,e.major)||Ce(this.minor,e.minor)||Ce(this.patch,e.patch)};_.prototype.comparePre=function(e){if(e instanceof _||(e=new _(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(T("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Ce(r,n)}while(++t)};_.prototype.compareBuild=function(e){e instanceof _||(e=new _(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(T("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Ce(r,n)}while(++t)};_.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};y.inc=Bu;function Bu(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new _(e,r).inc(t,n).version}catch{return null}}y.diff=Gu;function Gu(e,t){if(Tr(e,t))return null;var r=Ae(e),n=Ae(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if((s==="major"||s==="minor"||s==="patch")&&r[s]!==n[s])return i+s;return o}y.compareIdentifiers=Ce;var Ti=/^[0-9]+$/;function Ce(e,t){var r=Ti.test(e),n=Ti.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}y.rcompareIdentifiers=Vu;function Vu(e,t){return Ce(t,e)}y.major=Hu;function Hu(e,t){return new _(e,t).major}y.minor=Wu;function Wu(e,t){return new _(e,t).minor}y.patch=Xu;function Xu(e,t){return new _(e,t).patch}y.compare=he;function he(e,t,r){return new _(e,r).compare(new _(t,r))}y.compareLoose=zu;function zu(e,t){return he(e,t,!0)}y.compareBuild=Ju;function Ju(e,t,r){var n=new _(e,r),i=new _(t,r);return n.compare(i)||n.compareBuild(i)}y.rcompare=Yu;function Yu(e,t,r){return he(t,e,r)}y.sort=Ku;function Ku(e,t){return e.sort(function(r,n){return y.compareBuild(r,n,t)})}y.rsort=Qu;function Qu(e,t){return e.sort(function(r,n){return y.compareBuild(n,r,t)})}y.gt=et;function et(e,t,r){return he(e,t,r)>0}y.lt=Nt;function Nt(e,t,r){return he(e,t,r)<0}y.eq=Tr;function Tr(e,t,r){return he(e,t,r)===0}y.neq=Pi;function Pi(e,t,r){return he(e,t,r)!==0}y.gte=Cr;function Cr(e,t,r){return he(e,t,r)>=0}y.lte=Ar;function Ar(e,t,r){return he(e,t,r)<=0}y.cmp=Lt;function Lt(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Tr(e,r,n);case"!=":return Pi(e,r,n);case">":return et(e,r,n);case">=":return Cr(e,r,n);case"<":return Nt(e,r,n);case"<=":return Ar(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}y.Comparator=ee;function ee(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ee){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ee))return new ee(e,t);e=e.trim().split(/\s+/).join(" "),T("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Fe?this.value="":this.value=this.operator+this.semver.version,T("comp",this)}var Fe={};ee.prototype.parse=function(e){var t=this.options.loose?S[d.COMPARATORLOOSE]:S[d.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new _(r[2],this.options.loose):this.semver=Fe};ee.prototype.toString=function(){return this.value};ee.prototype.test=function(e){if(T("Comparator.test",e,this.options.loose),this.semver===Fe||e===Fe)return!0;if(typeof e=="string")try{e=new _(e,this.options)}catch{return!1}return Lt(e,this.operator,this.semver,this.options)};ee.prototype.intersects=function(e,t){if(!(e instanceof ee))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new P(e.value,t),Dt(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new P(this.value,t),Dt(e.semver,r,t));var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),u=Lt(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=Lt(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||o&&s||u||c};y.Range=P;function P(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof P)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new P(e.raw,t);if(e instanceof ee)return new P(e.value,t);if(!(this instanceof P))return new P(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}P.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};P.prototype.toString=function(){return this.range};P.prototype.parseRange=function(e){var t=this.options.loose,r=t?S[d.HYPHENRANGELOOSE]:S[d.HYPHENRANGE];e=e.replace(r,uc),T("hyphen replace",e),e=e.replace(S[d.COMPARATORTRIM],Uu),T("comparator trim",e,S[d.COMPARATORTRIM]),e=e.replace(S[d.TILDETRIM],qu),e=e.replace(S[d.CARETTRIM],Fu),e=e.split(/\s+/).join(" ");var n=t?S[d.COMPARATORLOOSE]:S[d.COMPARATOR],i=e.split(" ").map(function(o){return ec(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(n)})),i=i.map(function(o){return new ee(o,this.options)},this),i};P.prototype.intersects=function(e,t){if(!(e instanceof P))throw new TypeError("a Range is required");return this.set.some(function(r){return Ci(r,t)&&e.set.some(function(n){return Ci(n,t)&&r.every(function(i){return n.every(function(o){return i.intersects(o,t)})})})})};function Ci(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(o){return i.intersects(o,t)}),i=n.pop();return r}y.toComparators=Zu;function Zu(e,t){return new P(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function ec(e,t){return T("comp",e,t),e=nc(e,t),T("caret",e),e=tc(e,t),T("tildes",e),e=oc(e,t),T("xrange",e),e=ac(e,t),T("stars",e),e}function B(e){return!e||e.toLowerCase()==="x"||e==="*"}function tc(e,t){return e.trim().split(/\s+/).map(function(r){return rc(r,t)}).join(" ")}function rc(e,t){var r=t.loose?S[d.TILDELOOSE]:S[d.TILDE];return e.replace(r,function(n,i,o,s,u){T("tilde",e,n,i,o,s,u);var c;return B(i)?c="":B(o)?c=">="+i+".0.0 <"+(+i+1)+".0.0":B(s)?c=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u?(T("replaceTilde pr",u),c=">="+i+"."+o+"."+s+"-"+u+" <"+i+"."+(+o+1)+".0"):c=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",T("tilde return",c),c})}function nc(e,t){return e.trim().split(/\s+/).map(function(r){return ic(r,t)}).join(" ")}function ic(e,t){T("caret",e,t);var r=t.loose?S[d.CARETLOOSE]:S[d.CARET];return e.replace(r,function(n,i,o,s,u){T("caret",e,n,i,o,s,u);var c;return B(i)?c="":B(o)?c=">="+i+".0.0 <"+(+i+1)+".0.0":B(s)?i==="0"?c=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+".0 <"+(+i+1)+".0.0":u?(T("replaceCaret pr",u),i==="0"?o==="0"?c=">="+i+"."+o+"."+s+"-"+u+" <"+i+"."+o+"."+(+s+1):c=">="+i+"."+o+"."+s+"-"+u+" <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+"."+s+"-"+u+" <"+(+i+1)+".0.0"):(T("no pr"),i==="0"?o==="0"?c=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):c=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),T("caret return",c),c})}function oc(e,t){return T("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return sc(r,t)}).join(" ")}function sc(e,t){e=e.trim();var r=t.loose?S[d.XRANGELOOSE]:S[d.XRANGE];return e.replace(r,function(n,i,o,s,u,c){T("xRange",e,n,i,o,s,u,c);var l=B(o),a=l||B(s),f=a||B(u),p=f;return i==="="&&p&&(i=""),c=t.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(a&&(s=0),u=0,i===">"?(i=">=",a?(o=+o+1,s=0,u=0):(s=+s+1,u=0)):i==="<="&&(i="<",a?o=+o+1:s=+s+1),n=i+o+"."+s+"."+u+c):a?n=">="+o+".0.0"+c+" <"+(+o+1)+".0.0"+c:f&&(n=">="+o+"."+s+".0"+c+" <"+o+"."+(+s+1)+".0"+c),T("xRange return",n),n})}function ac(e,t){return T("replaceStars",e,t),e.trim().replace(S[d.STAR],"")}function uc(e,t,r,n,i,o,s,u,c,l,a,f,p){return B(r)?t="":B(n)?t=">="+r+".0.0":B(i)?t=">="+r+"."+n+".0":t=">="+t,B(c)?u="":B(l)?u="<"+(+c+1)+".0.0":B(a)?u="<"+c+"."+(+l+1)+".0":f?u="<="+c+"."+l+"."+a+"-"+f:u="<="+u,(t+" "+u).trim()}P.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new _(e,this.options)}catch{return!1}for(var t=0;t<this.set.length;t++)if(cc(this.set[t],e,this.options))return!0;return!1};function cc(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(T(e[n].semver),e[n].semver!==Fe&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}y.satisfies=Dt;function Dt(e,t,r){try{t=new P(t,r)}catch{return!1}return t.test(e)}y.maxSatisfying=lc;function lc(e,t,r){var n=null,i=null;try{var o=new P(t,r)}catch{return null}return e.forEach(function(s){o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new _(n,r))}),n}y.minSatisfying=fc;function fc(e,t,r){var n=null,i=null;try{var o=new P(t,r)}catch{return null}return e.forEach(function(s){o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new _(n,r))}),n}y.minVersion=dc;function dc(e,t){e=new P(e,t);var r=new _("0.0.0");if(e.test(r)||(r=new _("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n){var i=e.set[n];i.forEach(function(o){var s=new _(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!r||et(r,s))&&(r=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return r&&e.test(r)?r:null}y.validRange=hc;function hc(e,t){try{return new P(e,t).range||"*"}catch{return null}}y.ltr=pc;function pc(e,t,r){return Pr(e,t,"<",r)}y.gtr=mc;function mc(e,t,r){return Pr(e,t,">",r)}y.outside=Pr;function Pr(e,t,r,n){e=new _(e,n),t=new P(t,n);var i,o,s,u,c;switch(r){case">":i=et,o=Ar,s=Nt,u=">",c=">=";break;case"<":i=Nt,o=Cr,s=et,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Dt(e,t,n))return!1;for(var l=0;l<t.set.length;++l){var a=t.set[l],f=null,p=null;if(a.forEach(function(E){E.semver===Fe&&(E=new ee(">=0.0.0")),f=f||E,p=p||E,i(E.semver,f.semver,n)?f=E:s(E.semver,p.semver,n)&&(p=E)}),f.operator===u||f.operator===c||(!p.operator||p.operator===u)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}y.prerelease=gc;function gc(e,t){var r=Ae(e,t);return r&&r.prerelease.length?r.prerelease:null}y.intersects=vc;function vc(e,t,r){return e=new P(e,r),t=new P(t,r),e.intersects(t)}y.coerce=yc;function yc(e,t){if(e instanceof _)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match(S[d.COERCE]);else{for(var n;(n=S[d.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),S[d.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;S[d.COERCERTL].lastIndex=-1}return r===null?null:Ae(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});var Li=v((U,Nr)=>{"use strict";var Ec=U&&U.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_c=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wc=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ec(t,e,r);return _c(t,e),t},bc=U&&U.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(U,"__esModule",{value:!0});U._readLinuxVersionFile=U._getOsVersion=U._findMatch=void 0;var xi=wc(Ir()),xr=we(),Ni=require("os"),Oc=require("child_process"),jt=require("fs");function Rc(e,t,r,n){return bc(this,void 0,void 0,function*(){let i=Ni.platform(),o,s,u;for(let c of r){let l=c.version;if(xr.debug(`check ${l} satisfies ${e}`),xi.satisfies(l,e)&&(!t||c.stable===t)&&(u=c.files.find(a=>{xr.debug(`${a.arch}===${n} && ${a.platform}===${i}`);let f=a.arch===n&&a.platform===i;if(f&&a.platform_version){let p=Nr.exports._getOsVersion();p===a.platform_version?f=!0:f=xi.satisfies(p,a.platform_version)}return f}),u)){xr.debug(`matched ${c.version}`),s=c;break}}return s&&u&&(o=Object.assign({},s),o.files=[u]),o})}U._findMatch=Rc;function Sc(){let e=Ni.platform(),t="";if(e==="darwin")t=Oc.execSync("sw_vers -productVersion").toString();else if(e==="linux"){let r=Nr.exports._readLinuxVersionFile();if(r){let n=r.split(`
`);for(let i of n){let o=i.split("=");if(o.length===2&&(o[0].trim()==="VERSION_ID"||o[0].trim()==="DISTRIB_RELEASE")){t=o[1].trim().replace(/^"/,"").replace(/"$/,"");break}}}}return t}U._getOsVersion=Sc;function Tc(){let e="/etc/lsb-release",t="/etc/os-release",r="";return jt.existsSync(e)?r=jt.readFileSync(e).toString():jt.existsSync(t)&&(r=jt.readFileSync(t).toString()),r}U._readLinuxVersionFile=Tc});var ji=v((Hh,Di)=>{var Cc=require("crypto");Di.exports=function(){return Cc.randomBytes(16)}});var Fi=v((Wh,qi)=>{var $i=[];for(rt=0;rt<256;++rt)$i[rt]=(rt+256).toString(16).substr(1);var rt;function Ac(e,t){var r=t||0,n=$i;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}qi.exports=Ac});var Mi=v((Xh,Ui)=>{var Pc=ji(),Ic=Fi();function xc(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||Pc)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||Ic(i)}Ui.exports=xc});var Vi=v(W=>{"use strict";var Nc=W&&W.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Lc=W&&W.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ue=W&&W.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Nc(t,e,r);return Lc(t,e),t},ki=W&&W.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(W,"__esModule",{value:!0});W.argStringToArray=W.ToolRunner=void 0;var $t=Ue(require("os")),Gi=Ue(require("events")),Dc=Ue(require("child_process")),jc=Ue(require("path")),$c=Ue(It()),Bi=Ue(_r()),qc=require("timers"),qt=process.platform==="win32",Lr=class extends Gi.EventEmitter{constructor(t,r,n){if(super(),!t)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=t,this.args=r||[],this.options=n||{}}_debug(t){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(t)}_getCommandString(t,r){let n=this._getSpawnFileName(),i=this._getSpawnArgs(t),o=r?"":"[command]";if(qt)if(this._isCmdFile()){o+=n;for(let s of i)o+=` ${s}`}else if(t.windowsVerbatimArguments){o+=`"${n}"`;for(let s of i)o+=` ${s}`}else{o+=this._windowsQuoteCmdArg(n);for(let s of i)o+=` ${this._windowsQuoteCmdArg(s)}`}else{o+=n;for(let s of i)o+=` ${s}`}return o}_processLineBuffer(t,r,n){try{let i=r+t.toString(),o=i.indexOf($t.EOL);for(;o>-1;){let s=i.substring(0,o);n(s),i=i.substring(o+$t.EOL.length),o=i.indexOf($t.EOL)}return i}catch(i){return this._debug(`error processing line. Failed with error ${i}`),""}}_getSpawnFileName(){return qt&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(t){if(qt&&this._isCmdFile()){let r=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(let n of this.args)r+=" ",r+=t.windowsVerbatimArguments?n:this._windowsQuoteCmdArg(n);return r+='"',[r]}return this.args}_endsWith(t,r){return t.endsWith(r)}_isCmdFile(){let t=this.toolPath.toUpperCase();return this._endsWith(t,".CMD")||this._endsWith(t,".BAT")}_windowsQuoteCmdArg(t){if(!this._isCmdFile())return this._uvQuoteCmdArg(t);if(!t)return'""';let r=[" ","	","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'],n=!1;for(let s of t)if(r.some(u=>u===s)){n=!0;break}if(!n)return t;let i='"',o=!0;for(let s=t.length;s>0;s--)i+=t[s-1],o&&t[s-1]==="\\"?i+="\\":t[s-1]==='"'?(o=!0,i+='"'):o=!1;return i+='"',i.split("").reverse().join("")}_uvQuoteCmdArg(t){if(!t)return'""';if(!t.includes(" ")&&!t.includes("	")&&!t.includes('"'))return t;if(!t.includes('"')&&!t.includes("\\"))return`"${t}"`;let r='"',n=!0;for(let i=t.length;i>0;i--)r+=t[i-1],n&&t[i-1]==="\\"?r+="\\":t[i-1]==='"'?(n=!0,r+="\\"):n=!1;return r+='"',r.split("").reverse().join("")}_cloneExecOptions(t){t=t||{};let r={cwd:t.cwd||process.cwd(),env:t.env||process.env,silent:t.silent||!1,windowsVerbatimArguments:t.windowsVerbatimArguments||!1,failOnStdErr:t.failOnStdErr||!1,ignoreReturnCode:t.ignoreReturnCode||!1,delay:t.delay||1e4};return r.outStream=t.outStream||process.stdout,r.errStream=t.errStream||process.stderr,r}_getSpawnOptions(t,r){t=t||{};let n={};return n.cwd=t.cwd,n.env=t.env,n.windowsVerbatimArguments=t.windowsVerbatimArguments||this._isCmdFile(),t.windowsVerbatimArguments&&(n.argv0=`"${r}"`),n}exec(){return ki(this,void 0,void 0,function*(){return!Bi.isRooted(this.toolPath)&&(this.toolPath.includes("/")||qt&&this.toolPath.includes("\\"))&&(this.toolPath=jc.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield $c.which(this.toolPath,!0),new Promise((t,r)=>ki(this,void 0,void 0,function*(){this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(let l of this.args)this._debug(`   ${l}`);let n=this._cloneExecOptions(this.options);!n.silent&&n.outStream&&n.outStream.write(this._getCommandString(n)+$t.EOL);let i=new nt(n,this.toolPath);if(i.on("debug",l=>{this._debug(l)}),this.options.cwd&&!(yield Bi.exists(this.options.cwd)))return r(new Error(`The cwd: ${this.options.cwd} does not exist!`));let o=this._getSpawnFileName(),s=Dc.spawn(o,this._getSpawnArgs(n),this._getSpawnOptions(this.options,o)),u="";s.stdout&&s.stdout.on("data",l=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(l),!n.silent&&n.outStream&&n.outStream.write(l),u=this._processLineBuffer(l,u,a=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(a)})});let c="";if(s.stderr&&s.stderr.on("data",l=>{i.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(l),!n.silent&&n.errStream&&n.outStream&&(n.failOnStdErr?n.errStream:n.outStream).write(l),c=this._processLineBuffer(l,c,a=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(a)})}),s.on("error",l=>{i.processError=l.message,i.processExited=!0,i.processClosed=!0,i.CheckComplete()}),s.on("exit",l=>{i.processExitCode=l,i.processExited=!0,this._debug(`Exit code ${l} received from tool '${this.toolPath}'`),i.CheckComplete()}),s.on("close",l=>{i.processExitCode=l,i.processExited=!0,i.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),i.CheckComplete()}),i.on("done",(l,a)=>{u.length>0&&this.emit("stdline",u),c.length>0&&this.emit("errline",c),s.removeAllListeners(),l?r(l):t(a)}),this.options.input){if(!s.stdin)throw new Error("child process missing stdin");s.stdin.end(this.options.input)}}))})}};W.ToolRunner=Lr;function Fc(e){let t=[],r=!1,n=!1,i="";function o(s){n&&s!=='"'&&(i+="\\"),i+=s,n=!1}for(let s=0;s<e.length;s++){let u=e.charAt(s);if(u==='"'){n?o(u):r=!r;continue}if(u==="\\"&&n){o(u);continue}if(u==="\\"&&r){n=!0;continue}if(u===" "&&!r){i.length>0&&(t.push(i),i="");continue}o(u)}return i.length>0&&t.push(i.trim()),t}W.argStringToArray=Fc;var nt=class extends Gi.EventEmitter{constructor(t,r){if(super(),this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!r)throw new Error("toolPath must not be empty");this.options=t,this.toolPath=r,t.delay&&(this.delay=t.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=qc.setTimeout(nt.HandleTimeout,this.delay,this)))}_debug(t){this.emit("debug",t)}_setResult(){let t;this.processExited&&(this.processError?t=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):this.processExitCode!==0&&!this.options.ignoreReturnCode?t=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`):this.processStderr&&this.options.failOnStdErr&&(t=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`))),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",t,this.processExitCode)}static HandleTimeout(t){if(!t.done){if(!t.processClosed&&t.processExited){let r=`The STDIO streams did not close within ${t.delay/1e3} seconds of the exit event from process '${t.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;t._debug(r)}t._setResult()}}}});var Ji=v(X=>{"use strict";var Uc=X&&X.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mc=X&&X.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kc=X&&X.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Uc(t,e,r);return Mc(t,e),t},Xi=X&&X.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(X,"__esModule",{value:!0});X.getExecOutput=X.exec=void 0;var Hi=require("string_decoder"),Wi=kc(Vi());function zi(e,t,r){return Xi(this,void 0,void 0,function*(){let n=Wi.argStringToArray(e);if(n.length===0)throw new Error("Parameter 'commandLine' cannot be null or empty.");let i=n[0];return t=n.slice(1).concat(t||[]),new Wi.ToolRunner(i,t,r).exec()})}X.exec=zi;function Bc(e,t,r){var n,i;return Xi(this,void 0,void 0,function*(){let o="",s="",u=new Hi.StringDecoder("utf8"),c=new Hi.StringDecoder("utf8"),l=(n=r==null?void 0:r.listeners)===null||n===void 0?void 0:n.stdout,a=(i=r==null?void 0:r.listeners)===null||i===void 0?void 0:i.stderr,f=x=>{s+=c.write(x),a&&a(x)},p=x=>{o+=u.write(x),l&&l(x)},E=Object.assign(Object.assign({},r==null?void 0:r.listeners),{stdout:p,stderr:f}),j=yield zi(e,t,Object.assign(Object.assign({},r),{listeners:E}));return o+=u.end(),s+=c.end(),{exitCode:j,stdout:o,stderr:s}})}X.getExecOutput=Bc});var Qi=v(te=>{"use strict";var Gc=te&&te.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Vc=te&&te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hc=te&&te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Gc(t,e,r);return Vc(t,e),t},Yi=te&&te.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(te,"__esModule",{value:!0});te.RetryHelper=void 0;var Ki=Hc(we()),Dr=class{constructor(t,r,n){if(t<1)throw new Error("max attempts should be greater than or equal to 1");if(this.maxAttempts=t,this.minSeconds=Math.floor(r),this.maxSeconds=Math.floor(n),this.minSeconds>this.maxSeconds)throw new Error("min seconds should be less than or equal to max seconds")}execute(t,r){return Yi(this,void 0,void 0,function*(){let n=1;for(;n<this.maxAttempts;){try{return yield t()}catch(o){if(r&&!r(o))throw o;Ki.info(o.message)}let i=this.getSleepAmount();Ki.info(`Waiting ${i} seconds before trying again`),yield this.sleep(i),n++}return yield t()})}getSleepAmount(){return Math.floor(Math.random()*(this.maxSeconds-this.minSeconds+1))+this.minSeconds}sleep(t){return Yi(this,void 0,void 0,function*(){return new Promise(r=>setTimeout(r,t*1e3))})}};te.RetryHelper=Dr});var so=v(w=>{"use strict";var Wc=w&&w.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xc=w&&w.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),le=w&&w.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Wc(t,e,r);return Xc(t,e),t},G=w&&w.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})},zc=w&&w.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(w,"__esModule",{value:!0});w.evaluateVersions=w.isExplicitVersion=w.findFromManifest=w.getManifestFromRepo=w.findAllVersions=w.find=w.cacheFile=w.cacheDir=w.extractZip=w.extractXar=w.extractTar=w.extract7z=w.downloadTool=w.HTTPError=void 0;var R=le(we()),z=le(It()),re=le(require("fs")),Jc=le(Li()),ot=le(require("os")),oe=le(require("path")),Zi=le(ur()),pe=le(Ir()),Yc=le(require("stream")),Kc=le(require("util")),Me=require("assert"),eo=zc(Mi()),Oe=Ji(),Qc=Qi(),it=class extends Error{constructor(t){super(`Unexpected HTTP response: ${t}`),this.httpStatusCode=t,Object.setPrototypeOf(this,new.target.prototype)}};w.HTTPError=it;var $r=process.platform==="win32",Zc=process.platform==="darwin",el="actions/tool-cache";function tl(e,t,r,n){return G(this,void 0,void 0,function*(){t=t||oe.join(oo(),eo.default()),yield z.mkdirP(oe.dirname(t)),R.debug(`Downloading ${e}`),R.debug(`Destination ${t}`);let i=3,o=jr("TEST_DOWNLOAD_TOOL_RETRY_MIN_SECONDS",10),s=jr("TEST_DOWNLOAD_TOOL_RETRY_MAX_SECONDS",20);return yield new Qc.RetryHelper(i,o,s).execute(()=>G(this,void 0,void 0,function*(){return yield rl(e,t||"",r,n)}),c=>!(c instanceof it&&c.httpStatusCode&&c.httpStatusCode<500&&c.httpStatusCode!==408&&c.httpStatusCode!==429))})}w.downloadTool=tl;function rl(e,t,r,n){return G(this,void 0,void 0,function*(){if(re.existsSync(t))throw new Error(`Destination file path ${t} already exists`);let i=new Zi.HttpClient(el,[],{allowRetries:!1});r&&(R.debug("set auth"),n===void 0&&(n={}),n.authorization=r);let o=yield i.get(e,n);if(o.message.statusCode!==200){let a=new it(o.message.statusCode);throw R.debug(`Failed to download from "${e}". Code(${o.message.statusCode}) Message(${o.message.statusMessage})`),a}let s=Kc.promisify(Yc.pipeline),c=jr("TEST_DOWNLOAD_TOOL_RESPONSE_MESSAGE_FACTORY",()=>o.message)(),l=!1;try{return yield s(c,re.createWriteStream(t)),R.debug("download complete"),l=!0,t}finally{if(!l){R.debug("download failed");try{yield z.rmRF(t)}catch(a){R.debug(`Failed to delete '${t}'. ${a.message}`)}}}})}function nl(e,t,r){return G(this,void 0,void 0,function*(){Me.ok($r,"extract7z() not supported on current OS"),Me.ok(e,'parameter "file" is required'),t=yield Ft(t);let n=process.cwd();if(process.chdir(t),r)try{let o=["x",R.isDebug()?"-bb1":"-bb0","-bd","-sccUTF-8",e],s={silent:!0};yield Oe.exec(`"${r}"`,o,s)}finally{process.chdir(n)}else{let i=oe.join(__dirname,"..","scripts","Invoke-7zdec.ps1").replace(/'/g,"''").replace(/"|\n|\r/g,""),o=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),s=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),c=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",`& '${i}' -Source '${o}' -Target '${s}'`],l={silent:!0};try{let a=yield z.which("powershell",!0);yield Oe.exec(`"${a}"`,c,l)}finally{process.chdir(n)}}return t})}w.extract7z=nl;function il(e,t,r="xz"){return G(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'file' is required");t=yield Ft(t),R.debug("Checking tar --version");let n="";yield Oe.exec("tar --version",[],{ignoreReturnCode:!0,silent:!0,listeners:{stdout:c=>n+=c.toString(),stderr:c=>n+=c.toString()}}),R.debug(n.trim());let i=n.toUpperCase().includes("GNU TAR"),o;r instanceof Array?o=r:o=[r],R.isDebug()&&!r.includes("v")&&o.push("-v");let s=t,u=e;return $r&&i&&(o.push("--force-local"),s=t.replace(/\\/g,"/"),u=e.replace(/\\/g,"/")),i&&(o.push("--warning=no-unknown-keyword"),o.push("--overwrite")),o.push("-C",s,"-f",u),yield Oe.exec("tar",o),t})}w.extractTar=il;function ol(e,t,r=[]){return G(this,void 0,void 0,function*(){Me.ok(Zc,"extractXar() not supported on current OS"),Me.ok(e,'parameter "file" is required'),t=yield Ft(t);let n;r instanceof Array?n=r:n=[r],n.push("-x","-C",t,"-f",e),R.isDebug()&&n.push("-v");let i=yield z.which("xar",!0);return yield Oe.exec(`"${i}"`,pl(n)),t})}w.extractXar=ol;function sl(e,t){return G(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'file' is required");return t=yield Ft(t),$r?yield al(e,t):yield ul(e,t),t})}w.extractZip=sl;function al(e,t){return G(this,void 0,void 0,function*(){let r=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),n=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),i=yield z.which("pwsh",!1);if(i){let s=["-NoLogo","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",["$ErrorActionPreference = 'Stop' ;","try { Add-Type -AssemblyName System.IO.Compression.ZipFile } catch { } ;",`try { [System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${n}', $true) }`,`catch { if (($_.Exception.GetType().FullName -eq 'System.Management.Automation.MethodException') -or ($_.Exception.GetType().FullName -eq 'System.Management.Automation.RuntimeException') ){ Expand-Archive -LiteralPath '${r}' -DestinationPath '${n}' -Force } else { throw $_ } } ;`].join(" ")];R.debug(`Using pwsh at path: ${i}`),yield Oe.exec(`"${i}"`,s)}else{let s=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",["$ErrorActionPreference = 'Stop' ;","try { Add-Type -AssemblyName System.IO.Compression.FileSystem } catch { } ;",`if ((Get-Command -Name Expand-Archive -Module Microsoft.PowerShell.Archive -ErrorAction Ignore)) { Expand-Archive -LiteralPath '${r}' -DestinationPath '${n}' -Force }`,`else {[System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${n}', $true) }`].join(" ")],u=yield z.which("powershell",!0);R.debug(`Using powershell at path: ${u}`),yield Oe.exec(`"${u}"`,s)}})}function ul(e,t){return G(this,void 0,void 0,function*(){let r=yield z.which("unzip",!0),n=[e];R.isDebug()||n.unshift("-q"),n.unshift("-o"),yield Oe.exec(`"${r}"`,n,{cwd:t})})}function cl(e,t,r,n){return G(this,void 0,void 0,function*(){if(r=pe.clean(r)||r,n=n||ot.arch(),R.debug(`Caching tool ${t} ${r} ${n}`),R.debug(`source dir: ${e}`),!re.statSync(e).isDirectory())throw new Error("sourceDir is not a directory");let i=yield ro(t,r,n);for(let o of re.readdirSync(e)){let s=oe.join(e,o);yield z.cp(s,i,{recursive:!0})}return no(t,r,n),i})}w.cacheDir=cl;function ll(e,t,r,n,i){return G(this,void 0,void 0,function*(){if(n=pe.clean(n)||n,i=i||ot.arch(),R.debug(`Caching tool ${r} ${n} ${i}`),R.debug(`source file: ${e}`),!re.statSync(e).isFile())throw new Error("sourceFile is not a file");let o=yield ro(r,n,i),s=oe.join(o,t);return R.debug(`destination file ${s}`),yield z.cp(e,s),no(r,n,i),o})}w.cacheFile=ll;function fl(e,t,r){if(!e)throw new Error("toolName parameter is required");if(!t)throw new Error("versionSpec parameter is required");if(r=r||ot.arch(),!qr(t)){let i=to(e,r);t=io(i,t)}let n="";if(t){t=pe.clean(t)||"";let i=oe.join(Ut(),e,t,r);R.debug(`checking cache: ${i}`),re.existsSync(i)&&re.existsSync(`${i}.complete`)?(R.debug(`Found tool in cache ${e} ${t} ${r}`),n=i):R.debug("not found")}return n}w.find=fl;function to(e,t){let r=[];t=t||ot.arch();let n=oe.join(Ut(),e);if(re.existsSync(n)){let i=re.readdirSync(n);for(let o of i)if(qr(o)){let s=oe.join(n,o,t||"");re.existsSync(s)&&re.existsSync(`${s}.complete`)&&r.push(o)}}return r}w.findAllVersions=to;function dl(e,t,r,n="master"){return G(this,void 0,void 0,function*(){let i=[],o=`https://api.github.com/repos/${e}/${t}/git/trees/${n}`,s=new Zi.HttpClient("tool-cache"),u={};r&&(R.debug("set auth"),u.authorization=r);let c=yield s.getJson(o,u);if(!c.result)return i;let l="";for(let f of c.result.tree)if(f.path==="versions-manifest.json"){l=f.url;break}u.accept="application/vnd.github.VERSION.raw";let a=yield(yield s.get(l,u)).readBody();if(a){a=a.replace(/^\uFEFF/,"");try{i=JSON.parse(a)}catch{R.debug("Invalid json")}}return i})}w.getManifestFromRepo=dl;function hl(e,t,r,n=ot.arch()){return G(this,void 0,void 0,function*(){return yield Jc._findMatch(e,t,r,n)})}w.findFromManifest=hl;function Ft(e){return G(this,void 0,void 0,function*(){return e||(e=oe.join(oo(),eo.default())),yield z.mkdirP(e),e})}function ro(e,t,r){return G(this,void 0,void 0,function*(){let n=oe.join(Ut(),e,pe.clean(t)||t,r||"");R.debug(`destination ${n}`);let i=`${n}.complete`;return yield z.rmRF(n),yield z.rmRF(i),yield z.mkdirP(n),n})}function no(e,t,r){let i=`${oe.join(Ut(),e,pe.clean(t)||t,r||"")}.complete`;re.writeFileSync(i,""),R.debug("finished caching tool")}function qr(e){let t=pe.clean(e)||"";R.debug(`isExplicit: ${t}`);let r=pe.valid(t)!=null;return R.debug(`explicit? ${r}`),r}w.isExplicitVersion=qr;function io(e,t){let r="";R.debug(`evaluating ${e.length} versions`),e=e.sort((n,i)=>pe.gt(n,i)?1:-1);for(let n=e.length-1;n>=0;n--){let i=e[n];if(pe.satisfies(i,t)){r=i;break}}return r?R.debug(`matched: ${r}`):R.debug("match not found"),r}w.evaluateVersions=io;function Ut(){let e=process.env.RUNNER_TOOL_CACHE||"";return Me.ok(e,"Expected RUNNER_TOOL_CACHE to be defined"),e}function oo(){let e=process.env.RUNNER_TEMP||"";return Me.ok(e,"Expected RUNNER_TEMP to be defined"),e}function jr(e,t){let r=global[e];return r!==void 0?r:t}function pl(e){return Array.from(new Set(e))}});var st=v(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});function ml(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}Fr.getUserAgent=ml});var co=v((Zh,uo)=>{uo.exports=ao;function ao(e,t,r,n){if(typeof r!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(t)?t.reverse().reduce(function(i,o){return ao.bind(null,e,o,i,n)},r)():Promise.resolve().then(function(){return e.registry[t]?e.registry[t].reduce(function(i,o){return o.hook.bind(null,i,n)},r)():r(n)})}});var fo=v((ep,lo)=>{lo.exports=gl;function gl(e,t,r,n){var i=n;e.registry[r]||(e.registry[r]=[]),t==="before"&&(n=function(o,s){return Promise.resolve().then(i.bind(null,s)).then(o.bind(null,s))}),t==="after"&&(n=function(o,s){var u;return Promise.resolve().then(o.bind(null,s)).then(function(c){return u=c,i(u,s)}).then(function(){return u})}),t==="error"&&(n=function(o,s){return Promise.resolve().then(o.bind(null,s)).catch(function(u){return i(u,s)})}),e.registry[r].push({hook:n,orig:i})}});var po=v((tp,ho)=>{ho.exports=vl;function vl(e,t,r){if(e.registry[t]){var n=e.registry[t].map(function(i){return i.orig}).indexOf(r);n!==-1&&e.registry[t].splice(n,1)}}});var wo=v((rp,at)=>{var yo=co(),yl=fo(),El=po(),mo=Function.bind,go=mo.bind(mo);function Eo(e,t,r){var n=go(El,null).apply(null,r?[t,r]:[t]);e.api={remove:n},e.remove=n,["before","error","after","wrap"].forEach(function(i){var o=r?[t,i,r]:[t,i];e[i]=e.api[i]=go(yl,null).apply(null,o)})}function _l(){var e="h",t={registry:{}},r=yo.bind(null,t,e);return Eo(r,t,e),r}function _o(){var e={registry:{}},t=yo.bind(null,e);return Eo(t,e),t}var vo=!1;function ke(){return vo||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),vo=!0),_o()}ke.Singular=_l.bind();ke.Collection=_o.bind();at.exports=ke;at.exports.Hook=ke;at.exports.Singular=ke.Singular;at.exports.Collection=ke.Collection});var Mr=v(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});function bo(e){return Object.prototype.toString.call(e)==="[object Object]"}function wl(e){var t,r;return bo(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(bo(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}Ur.isPlainObject=wl});var xo=v((ip,Io)=>{"use strict";var Gr=Object.defineProperty,bl=Object.getOwnPropertyDescriptor,Ol=Object.getOwnPropertyNames,Rl=Object.prototype.hasOwnProperty,Sl=(e,t)=>{for(var r in t)Gr(e,r,{get:t[r],enumerable:!0})},Tl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ol(t))!Rl.call(e,i)&&i!==r&&Gr(e,i,{get:()=>t[i],enumerable:!(n=bl(t,i))||n.enumerable});return e},Cl=e=>Tl(Gr({},"__esModule",{value:!0}),e),So={};Sl(So,{endpoint:()=>Bl});Io.exports=Cl(So);var Al=st(),Pl="9.0.0",Il=`octokit-endpoint.js/${Pl} ${(0,Al.getUserAgent)()}`,xl={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Il},mediaType:{format:""}};function Nl(e){return e?Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}):{}}var Ll=Mr();function To(e,t){let r=Object.assign({},e);return Object.keys(t).forEach(n=>{(0,Ll.isPlainObject)(t[n])?n in e?r[n]=To(e[n],t[n]):Object.assign(r,{[n]:t[n]}):Object.assign(r,{[n]:t[n]})}),r}function Oo(e){for(let t in e)e[t]===void 0&&delete e[t];return e}function Br(e,t,r){var i;if(typeof t=="string"){let[o,s]=t.split(" ");r=Object.assign(s?{method:o,url:s}:{url:o},r)}else r=Object.assign({},t);r.headers=Nl(r.headers),Oo(r),Oo(r.headers);let n=To(e||{},r);return r.url==="/graphql"&&(e&&((i=e.mediaType.previews)!=null&&i.length)&&(n.mediaType.previews=e.mediaType.previews.filter(o=>!n.mediaType.previews.includes(o)).concat(n.mediaType.previews)),n.mediaType.previews=(n.mediaType.previews||[]).map(o=>o.replace(/-preview/,""))),n}function Dl(e,t){let r=/\?/.test(e)?"&":"?",n=Object.keys(t);return n.length===0?e:e+r+n.map(i=>i==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(t[i])}`).join("&")}var jl=/\{[^}]+\}/g;function $l(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function ql(e){let t=e.match(jl);return t?t.map($l).reduce((r,n)=>r.concat(n),[]):[]}function Ro(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}function Co(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function Ge(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function ut(e,t,r){return t=e==="+"||e==="#"?Co(t):Ge(t),r?Ge(r)+"="+t:t}function Be(e){return e!=null}function kr(e){return e===";"||e==="&"||e==="?"}function Fl(e,t,r,n){var i=e[r],o=[];if(Be(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),n&&n!=="*"&&(i=i.substring(0,parseInt(n,10))),o.push(ut(t,i,kr(t)?r:""));else if(n==="*")Array.isArray(i)?i.filter(Be).forEach(function(s){o.push(ut(t,s,kr(t)?r:""))}):Object.keys(i).forEach(function(s){Be(i[s])&&o.push(ut(t,i[s],s))});else{let s=[];Array.isArray(i)?i.filter(Be).forEach(function(u){s.push(ut(t,u))}):Object.keys(i).forEach(function(u){Be(i[u])&&(s.push(Ge(u)),s.push(ut(t,i[u].toString())))}),kr(t)?o.push(Ge(r)+"="+s.join(",")):s.length!==0&&o.push(s.join(","))}else t===";"?Be(i)&&o.push(Ge(r)):i===""&&(t==="&"||t==="?")?o.push(Ge(r)+"="):i===""&&o.push("");return o}function Ul(e){return{expand:Ml.bind(null,e)}}function Ml(e,t){var r=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,i,o){if(i){let u="",c=[];if(r.indexOf(i.charAt(0))!==-1&&(u=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(l){var a=/([^:\*]*)(?::(\d+)|(\*))?/.exec(l);c.push(Fl(t,u,a[1],a[2]||a[3]))}),u&&u!=="+"){var s=",";return u==="?"?s="&":u!=="#"&&(s=u),(c.length!==0?u:"")+c.join(s)}else return c.join(",")}else return Co(o)})}function Ao(e){var a;let t=e.method.toUpperCase(),r=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},e.headers),i,o=Ro(e,["method","baseUrl","url","headers","request","mediaType"]),s=ql(r);r=Ul(r).expand(o),/^http/.test(r)||(r=e.baseUrl+r);let u=Object.keys(e).filter(f=>s.includes(f)).concat("baseUrl"),c=Ro(o,u);if(!/application\/octet-stream/i.test(n.accept)&&(e.mediaType.format&&(n.accept=n.accept.split(/,/).map(f=>f.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),r.endsWith("/graphql")&&(a=e.mediaType.previews)!=null&&a.length)){let f=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=f.concat(e.mediaType.previews).map(p=>{let E=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${p}-preview${E}`}).join(",")}return["GET","HEAD"].includes(t)?r=Dl(r,c):"data"in c?i=c.data:Object.keys(c).length&&(i=c),!n["content-type"]&&typeof i<"u"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof i>"u"&&(i=""),Object.assign({method:t,url:r,headers:n},typeof i<"u"?{body:i}:null,e.request?{request:e.request}:null)}function kl(e,t,r){return Ao(Br(e,t,r))}function Po(e,t){let r=Br(e,t),n=kl.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:Po.bind(null,r),merge:Br.bind(null,r),parse:Ao})}var Bl=Po(null,xl)});var No=v(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});var Vr=class extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}};Hr.Deprecation=Vr});var jo=v((sp,Do)=>{Do.exports=Lo;function Lo(e,t){if(e&&t)return Lo(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=e.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(u){o[u]=s[u]}),o}}});var Fo=v((ap,Wr)=>{var $o=jo();Wr.exports=$o(Mt);Wr.exports.strict=$o(qo);Mt.proto=Mt(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Mt(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return qo(this)},configurable:!0})});function Mt(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function qo(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var Vo=v((up,Go)=>{"use strict";var Gl=Object.create,kt=Object.defineProperty,Vl=Object.getOwnPropertyDescriptor,Hl=Object.getOwnPropertyNames,Wl=Object.getPrototypeOf,Xl=Object.prototype.hasOwnProperty,zl=(e,t)=>{for(var r in t)kt(e,r,{get:t[r],enumerable:!0})},Mo=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Hl(t))!Xl.call(e,i)&&i!==r&&kt(e,i,{get:()=>t[i],enumerable:!(n=Vl(t,i))||n.enumerable});return e},Jl=(e,t,r)=>(r=e!=null?Gl(Wl(e)):{},Mo(t||!e||!e.__esModule?kt(r,"default",{value:e,enumerable:!0}):r,e)),Yl=e=>Mo(kt({},"__esModule",{value:!0}),e),ko={};zl(ko,{RequestError:()=>Zl});Go.exports=Yl(ko);var Uo=No(),Bo=Jl(Fo()),Kl=(0,Bo.default)(e=>console.warn(e)),Ql=(0,Bo.default)(e=>console.warn(e)),Zl=class extends Error{constructor(e,t,r){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=t;let n;"headers"in r&&typeof r.headers<"u"&&(n=r.headers),"response"in r&&(this.response=r.response,n=r.response.headers);let i=Object.assign({},r.request);r.request.headers.authorization&&(i.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i,Object.defineProperty(this,"code",{get(){return Kl(new Uo.Deprecation("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),t}}),Object.defineProperty(this,"headers",{get(){return Ql(new Uo.Deprecation("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),n||{}}})}}});var lt=v((lp,Xo)=>{"use strict";var Jr=Object.defineProperty,ef=Object.getOwnPropertyDescriptor,tf=Object.getOwnPropertyNames,rf=Object.prototype.hasOwnProperty,nf=(e,t)=>{for(var r in t)Jr(e,r,{get:t[r],enumerable:!0})},of=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of tf(t))!rf.call(e,i)&&i!==r&&Jr(e,i,{get:()=>t[i],enumerable:!(n=ef(t,i))||n.enumerable});return e},sf=e=>of(Jr({},"__esModule",{value:!0}),e),Wo={};nf(Wo,{request:()=>hf});Xo.exports=sf(Wo);var af=xo(),uf=st(),cf="8.1.1",lf=Mr(),ct=Vo();function ff(e){return e.arrayBuffer()}function Ho(e){var t,r,n;let i=e.request&&e.request.log?e.request.log:console,o=((t=e.request)==null?void 0:t.parseSuccessResponseBody)!==!1;((0,lf.isPlainObject)(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let s={},u,c,{fetch:l}=globalThis;if((r=e.request)!=null&&r.fetch&&(l=e.request.fetch),!l)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return l(e.url,{method:e.method,body:e.body,headers:e.headers,signal:(n=e.request)==null?void 0:n.signal,...e.body&&{duplex:"half"}}).then(async a=>{c=a.url,u=a.status;for(let f of a.headers)s[f[0]]=f[1];if("deprecation"in s){let f=s.link&&s.link.match(/<([^>]+)>; rel="deprecation"/),p=f&&f.pop();i.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${s.sunset}${p?`. See ${p}`:""}`)}if(!(u===204||u===205)){if(e.method==="HEAD"){if(u<400)return;throw new ct.RequestError(a.statusText,u,{response:{url:c,status:u,headers:s,data:void 0},request:e})}if(u===304)throw new ct.RequestError("Not modified",u,{response:{url:c,status:u,headers:s,data:await Xr(a)},request:e});if(u>=400){let f=await Xr(a);throw new ct.RequestError(df(f),u,{response:{url:c,status:u,headers:s,data:f},request:e})}return o?await Xr(a):a.body}}).then(a=>({status:u,url:c,headers:s,data:a})).catch(a=>{throw a instanceof ct.RequestError||a.name==="AbortError"?a:new ct.RequestError(a.message,500,{request:e})})}async function Xr(e){let t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():ff(e)}function df(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}function zr(e,t){let r=e.defaults(t);return Object.assign(function(i,o){let s=r.merge(i,o);if(!s.request||!s.request.hook)return Ho(r.parse(s));let u=(c,l)=>Ho(r.parse(r.merge(c,l)));return Object.assign(u,{endpoint:r,defaults:zr.bind(null,r)}),s.request.hook(u,s)},{endpoint:r,defaults:zr.bind(null,r)})}var hf=zr(af.endpoint,{headers:{"user-agent":`octokit-request.js/${cf} ${(0,uf.getUserAgent)()}`}})});var Qo=v((hp,Ko)=>{"use strict";var Yr=Object.defineProperty,pf=Object.getOwnPropertyDescriptor,mf=Object.getOwnPropertyNames,gf=Object.prototype.hasOwnProperty,vf=(e,t)=>{for(var r in t)Yr(e,r,{get:t[r],enumerable:!0})},yf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mf(t))!gf.call(e,i)&&i!==r&&Yr(e,i,{get:()=>t[i],enumerable:!(n=pf(t,i))||n.enumerable});return e},Ef=e=>yf(Yr({},"__esModule",{value:!0}),e),Jo={};vf(Jo,{GraphqlResponseError:()=>Yo,graphql:()=>Cf,withCustomRequest:()=>Af});Ko.exports=Ef(Jo);var _f=lt(),wf=st(),bf="7.0.1",fp=lt(),dp=lt();function Of(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var Yo=class extends Error{constructor(e,t,r){super(Of(r)),this.request=e,this.headers=t,this.response=r,this.name="GraphqlResponseError",this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Rf=["method","baseUrl","url","headers","request","query","mediaType"],Sf=["query","method","url"],zo=/\/api\/v3\/?$/;function Tf(e,t,r){if(r){if(typeof t=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let s in r)if(Sf.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}let n=typeof t=="string"?Object.assign({query:t},r):t,i=Object.keys(n).reduce((s,u)=>Rf.includes(u)?(s[u]=n[u],s):(s.variables||(s.variables={}),s.variables[u]=n[u],s),{}),o=n.baseUrl||e.endpoint.DEFAULTS.baseUrl;return zo.test(o)&&(i.url=o.replace(zo,"/api/graphql")),e(i).then(s=>{if(s.data.errors){let u={};for(let c of Object.keys(s.headers))u[c]=s.headers[c];throw new Yo(i,u,s.data)}return s.data.data})}function Kr(e,t){let r=e.defaults(t);return Object.assign((i,o)=>Tf(r,i,o),{defaults:Kr.bind(null,r),endpoint:r.endpoint})}var Cf=Kr(_f.request,{headers:{"user-agent":`octokit-graphql.js/${bf} ${(0,wf.getUserAgent)()}`},method:"POST",url:"/graphql"});function Af(e){return Kr(e,{method:"POST",url:"/graphql"})}});var ts=v((mp,es)=>{"use strict";var Qr=Object.defineProperty,Pf=Object.getOwnPropertyDescriptor,If=Object.getOwnPropertyNames,xf=Object.prototype.hasOwnProperty,Nf=(e,t)=>{for(var r in t)Qr(e,r,{get:t[r],enumerable:!0})},Lf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of If(t))!xf.call(e,i)&&i!==r&&Qr(e,i,{get:()=>t[i],enumerable:!(n=Pf(t,i))||n.enumerable});return e},Df=e=>Lf(Qr({},"__esModule",{value:!0}),e),Zo={};Nf(Zo,{createTokenAuth:()=>kf});es.exports=Df(Zo);var jf=/^v1\./,$f=/^ghs_/,qf=/^ghu_/;async function Ff(e){let t=e.split(/\./).length===3,r=jf.test(e)||$f.test(e),n=qf.test(e);return{type:"token",token:e,tokenType:t?"app":r?"installation":n?"user-to-server":"oauth"}}function Uf(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function Mf(e,t,r,n){let i=t.endpoint.merge(r,n);return i.headers.authorization=Uf(e),t(i)}var kf=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(Ff.bind(null,t),{hook:Mf.bind(null,t)})}});var ss=v((gp,os)=>{"use strict";var Zr=Object.defineProperty,Bf=Object.getOwnPropertyDescriptor,Gf=Object.getOwnPropertyNames,Vf=Object.prototype.hasOwnProperty,Hf=(e,t)=>{for(var r in t)Zr(e,r,{get:t[r],enumerable:!0})},Wf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Gf(t))!Vf.call(e,i)&&i!==r&&Zr(e,i,{get:()=>t[i],enumerable:!(n=Bf(t,i))||n.enumerable});return e},Xf=e=>Wf(Zr({},"__esModule",{value:!0}),e),is={};Hf(is,{Octokit:()=>Qf});os.exports=Xf(is);var zf=st(),Jf=wo(),rs=lt(),Yf=Qo(),Kf=ts(),ns="5.0.0",Ve,Qf=(Ve=class{static defaults(t){return class extends this{constructor(...n){let i=n[0]||{};if(typeof t=="function"){super(t(i));return}super(Object.assign({},t,i,i.userAgent&&t.userAgent?{userAgent:`${i.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var i;let r=this.plugins;return i=class extends this{},(()=>{i.plugins=r.concat(t.filter(s=>!r.includes(s)))})(),i}constructor(t={}){let r=new Jf.Collection,n={baseUrl:rs.request.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[t.userAgent,`octokit-core.js/${ns} ${(0,zf.getUserAgent)()}`].filter(Boolean).join(" "),t.baseUrl&&(n.baseUrl=t.baseUrl),t.previews&&(n.mediaType.previews=t.previews),t.timeZone&&(n.headers["time-zone"]=t.timeZone),this.request=rs.request.defaults(n),this.graphql=(0,Yf.withCustomRequest)(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=r,t.authStrategy){let{authStrategy:o,...s}=t,u=o(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},t.auth));r.wrap("request",u.hook),this.auth=u}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{let o=(0,Kf.createTokenAuth)(t.auth);r.wrap("request",o.hook),this.auth=o}this.constructor.plugins.forEach(o=>{Object.assign(this,o(this,t))})}},(()=>{Ve.VERSION=ns})(),(()=>{Ve.plugins=[]})(),Ve)});var us=v((Ep,as)=>{var We=1e3,Xe=We*60,ze=Xe*60,Pe=ze*24,Zf=Pe*7,ed=Pe*365.25;as.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return td(e);if(r==="number"&&isFinite(e))return t.long?nd(e):rd(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function td(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*ed;case"weeks":case"week":case"w":return r*Zf;case"days":case"day":case"d":return r*Pe;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ze;case"minutes":case"minute":case"mins":case"min":case"m":return r*Xe;case"seconds":case"second":case"secs":case"sec":case"s":return r*We;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function rd(e){var t=Math.abs(e);return t>=Pe?Math.round(e/Pe)+"d":t>=ze?Math.round(e/ze)+"h":t>=Xe?Math.round(e/Xe)+"m":t>=We?Math.round(e/We)+"s":e+"ms"}function nd(e){var t=Math.abs(e);return t>=Pe?Bt(e,t,Pe,"day"):t>=ze?Bt(e,t,ze,"hour"):t>=Xe?Bt(e,t,Xe,"minute"):t>=We?Bt(e,t,We,"second"):e+" ms"}function Bt(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var en=v((_p,cs)=>{function id(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=us(),r.destroy=l,Object.keys(e).forEach(a=>{r[a]=e[a]}),r.names=[],r.skips=[],r.formatters={};function t(a){let f=0;for(let p=0;p<a.length;p++)f=(f<<5)-f+a.charCodeAt(p),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=t;function r(a){let f,p=null,E,j;function x(...N){if(!x.enabled)return;let Se=x,gt=Number(new Date),Fs=gt-(f||gt);Se.diff=Fs,Se.prev=f,Se.curr=gt,f=gt,N[0]=r.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let vt=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(Jt,Us)=>{if(Jt==="%%")return"%";vt++;let pn=r.formatters[Us];if(typeof pn=="function"){let Ms=N[vt];Jt=pn.call(Se,Ms),N.splice(vt,1),vt--}return Jt}),r.formatArgs.call(Se,N),(Se.log||r.log).apply(Se,N)}return x.namespace=a,x.useColors=r.useColors(),x.color=r.selectColor(a),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(E!==r.namespaces&&(E=r.namespaces,j=r.enabled(a)),j),set:N=>{p=N}}),typeof r.init=="function"&&r.init(x),x}function n(a,f){let p=r(this.namespace+(typeof f>"u"?":":f)+a);return p.log=this.log,p}function i(a){r.save(a),r.namespaces=a,r.names=[],r.skips=[];let f,p=(typeof a=="string"?a:"").split(/[\s,]+/),E=p.length;for(f=0;f<E;f++)p[f]&&(a=p[f].replace(/\*/g,".*?"),a[0]==="-"?r.skips.push(new RegExp("^"+a.slice(1)+"$")):r.names.push(new RegExp("^"+a+"$")))}function o(){let a=[...r.names.map(u),...r.skips.map(u).map(f=>"-"+f)].join(",");return r.enable(""),a}function s(a){if(a[a.length-1]==="*")return!0;let f,p;for(f=0,p=r.skips.length;f<p;f++)if(r.skips[f].test(a))return!1;for(f=0,p=r.names.length;f<p;f++)if(r.names[f].test(a))return!0;return!1}function u(a){return a.toString().substring(2,a.toString().length-2).replace(/\.\*\?$/,"*")}function c(a){return a instanceof Error?a.stack||a.message:a}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}cs.exports=id});var ls=v((J,Gt)=>{J.formatArgs=sd;J.save=ad;J.load=ud;J.useColors=od;J.storage=cd();J.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();J.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function od(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function sd(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Gt.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}J.log=console.debug||console.log||(()=>{});function ad(e){try{e?J.storage.setItem("debug",e):J.storage.removeItem("debug")}catch{}}function ud(){let e;try{e=J.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function cd(){try{return localStorage}catch{}}Gt.exports=en()(J);var{formatters:ld}=Gt.exports;ld.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var ds=v((wp,fs)=>{"use strict";fs.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var ms=v((bp,ps)=>{"use strict";var fd=require("os"),hs=require("tty"),ne=ds(),{env:D}=process,Re;ne("no-color")||ne("no-colors")||ne("color=false")||ne("color=never")?Re=0:(ne("color")||ne("colors")||ne("color=true")||ne("color=always"))&&(Re=1);"FORCE_COLOR"in D&&(D.FORCE_COLOR==="true"?Re=1:D.FORCE_COLOR==="false"?Re=0:Re=D.FORCE_COLOR.length===0?1:Math.min(parseInt(D.FORCE_COLOR,10),3));function tn(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function rn(e,t){if(Re===0)return 0;if(ne("color=16m")||ne("color=full")||ne("color=truecolor"))return 3;if(ne("color=256"))return 2;if(e&&!t&&Re===void 0)return 0;let r=Re||0;if(D.TERM==="dumb")return r;if(process.platform==="win32"){let n=fd.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in D)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in D)||D.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in D)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(D.TEAMCITY_VERSION)?1:0;if(D.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in D){let n=parseInt((D.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(D.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(D.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(D.TERM)||"COLORTERM"in D?1:r}function dd(e){let t=rn(e,e&&e.isTTY);return tn(t)}ps.exports={supportsColor:dd,stdout:tn(rn(!0,hs.isatty(1))),stderr:tn(rn(!0,hs.isatty(2)))}});var vs=v((F,Ht)=>{var hd=require("tty"),Vt=require("util");F.init=_d;F.log=vd;F.formatArgs=md;F.save=yd;F.load=Ed;F.useColors=pd;F.destroy=Vt.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");F.colors=[6,2,3,4,5,1];try{let e=ms();e&&(e.stderr||e).level>=2&&(F.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}F.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function pd(){return"colors"in F.inspectOpts?Boolean(F.inspectOpts.colors):hd.isatty(process.stderr.fd)}function md(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${t} \x1B[0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+Ht.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=gd()+t+" "+e[0]}function gd(){return F.inspectOpts.hideDate?"":new Date().toISOString()+" "}function vd(...e){return process.stderr.write(Vt.format(...e)+`
`)}function yd(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function Ed(){return process.env.DEBUG}function _d(e){e.inspectOpts={};let t=Object.keys(F.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=F.inspectOpts[t[r]]}Ht.exports=en()(F);var{formatters:gs}=Ht.exports;gs.o=function(e){return this.inspectOpts.colors=this.useColors,Vt.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};gs.O=function(e){return this.inspectOpts.colors=this.useColors,Vt.inspect(e,this.inspectOpts)}});var Wt=v((Op,nn)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?nn.exports=ls():nn.exports=vs()});var ys=v(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});function wd(e){return function(t,r){return new Promise((n,i)=>{e.call(this,t,r,(o,s)=>{o?i(o):n(s)})})}}on.default=wd});var ws=v((an,_s)=>{"use strict";var Es=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},bd=require("events"),Od=Es(Wt()),Rd=Es(ys()),ft=Od.default("agent-base");function Sd(e){return Boolean(e)&&typeof e.addRequest=="function"}function sn(){let{stack:e}=new Error;return typeof e!="string"?!1:e.split(`
`).some(t=>t.indexOf("(https.js:")!==-1||t.indexOf("node:https:")!==-1)}function Xt(e,t){return new Xt.Agent(e,t)}(function(e){class t extends bd.EventEmitter{constructor(n,i){super();let o=i;typeof n=="function"?this.callback=n:n&&(o=n),this.timeout=null,o&&typeof o.timeout=="number"&&(this.timeout=o.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:sn()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:sn()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,o){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){let o=Object.assign({},i);typeof o.secureEndpoint!="boolean"&&(o.secureEndpoint=sn()),o.host==null&&(o.host="localhost"),o.port==null&&(o.port=o.secureEndpoint?443:80),o.protocol==null&&(o.protocol=o.secureEndpoint?"https:":"http:"),o.host&&o.path&&delete o.path,delete o.agent,delete o.hostname,delete o._defaultAgent,delete o.defaultPort,delete o.createConnection,n._last=!0,n.shouldKeepAlive=!1;let s=!1,u=null,c=o.timeout||this.timeout,l=E=>{n._hadError||(n.emit("error",E),n._hadError=!0)},a=()=>{u=null,s=!0;let E=new Error(`A "socket" was not created for HTTP request before ${c}ms`);E.code="ETIMEOUT",l(E)},f=E=>{s||(u!==null&&(clearTimeout(u),u=null),l(E))},p=E=>{if(s)return;if(u!=null&&(clearTimeout(u),u=null),Sd(E)){ft("Callback returned another Agent instance %o",E.constructor.name),E.addRequest(n,o);return}if(E){E.once("free",()=>{this.freeSocket(E,o)}),n.onSocket(E);return}let j=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);l(j)};if(typeof this.callback!="function"){l(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(ft("Converting legacy callback function to promise"),this.promisifiedCallback=Rd.default(this.callback)):this.promisifiedCallback=this.callback),typeof c=="number"&&c>0&&(u=setTimeout(a,c)),"port"in o&&typeof o.port!="number"&&(o.port=Number(o.port));try{ft("Resolving socket for %o request: %o",o.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,o)).then(p,f)}catch(E){Promise.reject(E).catch(f)}}freeSocket(n,i){ft("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){ft("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype})(Xt||(Xt={}));_s.exports=Xt});var bs=v(ht=>{"use strict";var Td=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ht,"__esModule",{value:!0});var Cd=Td(Wt()),dt=Cd.default("https-proxy-agent:parse-proxy-response");function Ad(e){return new Promise((t,r)=>{let n=0,i=[];function o(){let f=e.read();f?a(f):e.once("readable",o)}function s(){e.removeListener("end",c),e.removeListener("error",l),e.removeListener("close",u),e.removeListener("readable",o)}function u(f){dt("onclose had error %o",f)}function c(){dt("onend")}function l(f){s(),dt("onerror %o",f),r(f)}function a(f){i.push(f),n+=f.length;let p=Buffer.concat(i,n);if(p.indexOf(`\r
\r
`)===-1){dt("have not received end of HTTP headers yet..."),o();return}let j=p.toString("ascii",0,p.indexOf(`\r
`)),x=+j.split(" ")[1];dt("got proxy server response: %o",j),t({statusCode:x,buffered:p})}e.on("error",l),e.on("close",u),e.on("end",c),o()})}ht.default=Ad});var Ss=v(Ie=>{"use strict";var Pd=Ie&&Ie.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{l(n.next(a))}catch(f){s(f)}}function c(a){try{l(n.throw(a))}catch(f){s(f)}}function l(a){a.done?o(a.value):i(a.value).then(u,c)}l((n=n.apply(e,t||[])).next())})},Je=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ie,"__esModule",{value:!0});var Os=Je(require("net")),Rs=Je(require("tls")),Id=Je(require("url")),xd=Je(require("assert")),Nd=Je(Wt()),Ld=ws(),Dd=Je(bs()),pt=Nd.default("https-proxy-agent:agent"),un=class extends Ld.Agent{constructor(t){let r;if(typeof t=="string"?r=Id.default.parse(t):r=t,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");pt("creating new HttpsProxyAgent instance: %o",r),super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||qd(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(t,r){return Pd(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,o;i?(pt("Creating `tls.Socket`: %o",n),o=Rs.default.connect(n)):(pt("Creating `net.Socket`: %o",n),o=Os.default.connect(n));let s=Object.assign({},n.headers),c=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(s["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:l,port:a,secureEndpoint:f}=r;$d(a,f)||(l+=`:${a}`),s.Host=l,s.Connection="close";for(let N of Object.keys(s))c+=`${N}: ${s[N]}\r
`;let p=Dd.default(o);o.write(`${c}\r
`);let{statusCode:E,buffered:j}=yield p;if(E===200){if(t.once("socket",jd),r.secureEndpoint){pt("Upgrading socket connection to TLS");let N=r.servername||r.host;return Rs.default.connect(Object.assign(Object.assign({},Fd(r,"host","hostname","path","port")),{socket:o,servername:N}))}return o}o.destroy();let x=new Os.default.Socket({writable:!1});return x.readable=!0,t.once("socket",N=>{pt("replaying proxy buffer for failed request"),xd.default(N.listenerCount("data")>0),N.push(j),N.push(null)}),x})}};Ie.default=un;function jd(e){e.resume()}function $d(e,t){return Boolean(!t&&e===80||t&&e===443)}function qd(e){return typeof e=="string"?/^https:?$/i.test(e):!1}function Fd(e,...t){let r={},n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}});var Cs=v((fn,Ts)=>{"use strict";var Ud=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},cn=Ud(Ss());function ln(e){return new cn.default(e)}(function(e){e.HttpsProxyAgent=cn.default,e.prototype=cn.default.prototype})(ln||(ln={}));Ts.exports=ln});var hn=$(require("child_process")),Ds=$(require("os")),js=$(require("path")),A=$(we()),$s=$(It());var me=$(require("os")),zt=$(require("path")),se=$(we()),fe=$(so()),Ps=$(ss());function He(e){return e.message!==void 0}var Is=$(Cs()),As="v";async function xs(e,t){let r=fe.find("buf",e,me.arch());if(r!=="")return se.info(`Found in cache @ ${r}`),r;se.info("Resolving the download URL for the current platform...");let n=await Md(e,t);if(He(n))return n;let i="";if(se.info(`Downloading buf version "${e}" from ${n}`),n.endsWith(".tar.gz")){let o=await fe.downloadTool(n);se.info(`Successfully downloaded buf version "${e}" from ${n}`),se.info("Extracting buf...");let s=await fe.extractTar(o);se.info(`Successfully extracted buf to ${s}`),se.info("Adding buf to the cache..."),i=await fe.cacheDir(zt.join(s,"buf"),"buf",e,me.arch())}else{let o=await fe.downloadTool(n,"C:\\Users\\runneradmin\\buf-download\\buf.exe");se.info(`Successfully downloaded buf version "${e}" from ${n} to ${o}`),se.info("Adding buf to the cache..."),i=await fe.cacheDir(zt.dirname(o),"buf",e,me.arch())}return se.info(`Successfully cached buf to ${i}`),i}async function Md(e,t){let r="";switch(me.arch()){case"x64":r="x86_64";break;case"arm64":r="arm64";break;default:return{message:`The "${me.arch()}" architecture is not supported with a Buf release.`}}let n="";switch(me.platform()){case"linux":n="Linux";break;case"darwin":n="Darwin";break;case"win32":n="Windows";break;default:return{message:`The "${me.platform()}" platform is not supported with a Buf release.`}}let i="";n==="Windows"?i=`buf-${n}-${r}.exe`:i=`buf-${n}-${r}.tar.gz`;let o=process.env.http_proxy?new Is.HttpsProxyAgent(process.env.http_proxy):void 0,s=new Ps.Octokit({auth:t,request:{agent:o}});if(e==="latest"){let{data:l}=await s.request("GET /repos/{owner}/{repo}/releases",{owner:"bufbuild",repo:"buf",per_page:1});for(let a of l[0].assets)if(i===a.name)return a.browser_download_url;return{message:`Unable to find Buf version "${e}" for platform "${n}" and architecture "${r}".`}}let u=kd(e),{data:c}=await s.request("GET /repos/{owner}/{repo}/releases/tags/{tag}",{owner:"bufbuild",repo:"buf",tag:u});for(let l of c.assets)if(i===l.name)return l.browser_download_url;return{message:`Unable to find Buf version "${e}" for platform "${n}" and architecture "${r}".`}}function kd(e){return e.indexOf(As)===0?e:As+e}var mt=$(we()),Ns=$(require("path")),dn=$(require("fs"));function Ls(){let e=mt.getInput("version"),t=mt.getInput("go_version_file");if(t!==""){e!==""&&mt.warning("Both version and go_version_file inputs are specified, go_version_file will be preferred");let r=Bd(t);if(r!=="")return r}return e}function Bd(e){if(!dn.default.existsSync(e))throw new Error(`The specified go version file: "${e}" does not exist`);let t=dn.default.readFileSync(e).toString();if(Ns.basename(e)==="go.mod"){let n=t.match(/^\s+github.com\/bufbuild\/buf (v\d+(?:\.\d+)*)/m);return n?n[1]:""}return t.trim()}async function qs(){try{let e=await Gd();e!==null&&He(e)&&A.setFailed(e.message)}catch(e){if(He(e)){A.setFailed(e.message);return}A.setFailed("Internal error")}}async function Gd(){let e=Ls();if(e==="")return{message:"a version was not provided"};let t=A.getInput("github_token");t===""&&A.warning("No github_token supplied, API requests will be subject to stricter rate limiting"),A.info(`Setting up buf version "${e}"`);let r=await xs(e,t);if(He(r))return r;A.info("Adding buf binary to PATH");let n="";if(Ds.platform()==="win32"?A.addPath(r):A.addPath(js.join(r,"bin")),n=await $s.which("buf",!0),n==="")return{message:"buf was not found on PATH"};A.info(`Successfully setup buf version ${e}`),A.info(hn.default.execSync(`${n} --version`).toString());let i=A.getInput("buf_domain"),o=A.getInput("buf_user"),s=A.getInput("buf_api_token");return o!==""&&s!==""?(A.info("buf_user and buf_token supplied, logging in..."),A.info(hn.default.execSync(`${n} registry login ${i} --username ${o} --token-stdin`,{input:s}).toString()),null):o!==""?(A.info("buf_user is supplied, must also supply buf_token to log into Buf Schema Registry"),null):s!==""?(A.info("buf_token is supplied, must also supply buf_user to log into Buf Schema Registry"),null):(A.info("buf_user and buf_token are not supplied, not logging into Buf Schema Registry"),null)}qs();
/*! Bundled license information:

is-plain-object/dist/is-plain-object.js:
  (*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)
*/
//# sourceMappingURL=main.js.map
